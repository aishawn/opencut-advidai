{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot as SlotPrimitive } from \"radix-ui\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-foreground text-background shadow-sm hover:bg-foreground/90\",\n        primary:\n          \"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90\",\n        \"primary-gradient\":\n          \"bg-gradient-to-r from-cyan-400 to-blue-500 text-white hover:opacity-85 transition-opacity\",\n        destructive:\n          \"bg-destructive/0 border border-destructive/25 text-destructive shadow-xs hover:bg-destructive hover:text-destructive-foreground\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:opacity-75 transition-opacity hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-foreground/15 border border-input\",\n        text: \"bg-transparent p-0 rounded-none opacity-100 hover:opacity-50 transition-opacity\", // Instead of ghost (matches app better)\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-sm px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-7 w-7\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? SlotPrimitive.Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,6OAAA,CAAA,MAAG,AAAD,EACvB,0TACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,SACE;YACF,oBACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,MAAM;YACN,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,kOAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,iSAAA,CAAA,OAAa,CAAC,IAAI,GAAG;IAC5C,qBACE,kQAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/delete-project-dialog.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { cn } from \"@/lib/utils\";\n\nexport function DeleteProjectDialog({\n  isOpen,\n  onOpenChange,\n  onConfirm,\n  projectName,\n}: {\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n  onConfirm: () => void;\n  projectName?: string;\n}) {\n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent\n        onOpenAutoFocus={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n      >\n        <DialogHeader>\n          <DialogTitle>\n            {projectName ? (\n              <>\n                {\"Delete '\"}\n                <span className=\"inline-block max-w-[300px] truncate align-bottom\">\n                  {projectName}\n                </span>\n                {\"'?\"}\n              </>\n            ) : (\n              \"Delete Project?\"\n            )}\n          </DialogTitle>\n          <DialogDescription>\n            Are you sure you want to delete this project? This action cannot be\n            undone.\n          </DialogDescription>\n        </DialogHeader>\n        <DialogFooter>\n          <Button\n            variant=\"text\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              onOpenChange(false);\n            }}\n          >\n            Cancel\n          </Button>\n          <Button variant=\"destructive\" onClick={onConfirm}>\n            Delete\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAUO,SAAS,oBAAoB,KAUnC;QAVmC,EAClC,MAAM,EACN,YAAY,EACZ,SAAS,EACT,WAAW,EAMZ,GAVmC;IAWlC,qBACE,kQAAC,oJAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,kQAAC,oJAAA,CAAA,gBAAa;YACZ,iBAAiB,CAAC;gBAChB,EAAE,cAAc;gBAChB,EAAE,eAAe;YACnB;;8BAEA,kQAAC,oJAAA,CAAA,eAAY;;sCACX,kQAAC,oJAAA,CAAA,cAAW;sCACT,4BACC;;oCACG;kDACD,kQAAC;wCAAK,WAAU;kDACb;;;;;;oCAEF;;+CAGH;;;;;;sCAGJ,kQAAC,oJAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAKrB,kQAAC,oJAAA,CAAA,eAAY;;sCACX,kQAAC,oJAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,SAAS,CAAC;gCACR,EAAE,cAAc;gCAChB,EAAE,eAAe;gCACjB,aAAa;4BACf;sCACD;;;;;;sCAGD,kQAAC,oJAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAc,SAAS;sCAAW;;;;;;;;;;;;;;;;;;;;;;;AAO5D;KAxDgB","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/input.tsx"],"sourcesContent":["\"use client\";\n\nimport { Eye, EyeOff, X } from \"lucide-react\";\nimport { cn } from \"../../lib/utils\";\nimport { Button } from \"./button\";\nimport { forwardRef, ComponentProps } from \"react\";\nimport { useState } from \"react\";\n\ninterface InputProps extends ComponentProps<\"input\"> {\n  showPassword?: boolean;\n  onShowPasswordChange?: (show: boolean) => void;\n  showClearIcon?: boolean;\n  onClear?: () => void;\n  containerClassName?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      className,\n      type,\n      containerClassName,\n      showPassword,\n      onShowPasswordChange,\n      showClearIcon,\n      onClear,\n      value,\n      onFocus,\n      onBlur,\n      ...props\n    },\n    ref\n  ) => {\n    const [isFocused, setIsFocused] = useState(false);\n\n    const isPassword = type === \"password\";\n    const showPasswordToggle = isPassword && onShowPasswordChange;\n    const showClear =\n      showClearIcon &&\n      onClear &&\n      value &&\n      String(value).length > 0 &&\n      isFocused;\n    const inputType = isPassword && showPassword ? \"text\" : type;\n\n    const hasIcons = showPasswordToggle || showClear;\n    const iconCount = Number(showPasswordToggle) + Number(showClear);\n    const paddingRight =\n      iconCount === 2 ? \"pr-20\" : iconCount === 1 ? \"pr-10\" : \"\";\n\n    return (\n      <div className={cn(hasIcons ? \"relative w-full\" : \"\", containerClassName)}>\n        <input\n          type={inputType}\n          className={cn(\n            \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-accent/50 px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n            \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[2px]\",\n            \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n            paddingRight,\n            className\n          )}\n          ref={ref}\n          value={value}\n          onFocus={(e) => {\n            setIsFocused(true);\n            onFocus?.(e);\n          }}\n          onBlur={(e) => {\n            setIsFocused(false);\n            onBlur?.(e);\n          }}\n          {...props}\n        />\n        {showClear && (\n          <Button\n            type=\"button\"\n            variant=\"text\"\n            size=\"icon\"\n            onMouseDown={(e) => {\n              e.preventDefault();\n              onClear?.();\n            }}\n            className=\"absolute right-0 top-0 h-full px-3 text-muted-foreground !opacity-100\"\n            aria-label=\"Clear input\"\n          >\n            <X className=\"!size-[0.85]\" />\n          </Button>\n        )}\n        {showPasswordToggle && (\n          <Button\n            type=\"button\"\n            variant=\"text\"\n            size=\"icon\"\n            onClick={() => onShowPasswordChange?.(!showPassword)}\n            className={cn(\n              \"absolute top-0 h-full px-3 text-muted-foreground hover:text-foreground\",\n              showClear ? \"right-10\" : \"right-0\"\n            )}\n            aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n          >\n            {showPassword ? (\n              <Eye className=\"h-4 w-4\" />\n            ) : (\n              <EyeOff className=\"h-4 w-4\" />\n            )}\n          </Button>\n        )}\n      </div>\n    );\n  }\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AACA;AACA;AACA;;;AALA;;;;;;AAgBA,MAAM,sBAAQ,GAAA,CAAA,GAAA,kOAAA,CAAA,aAAU,AAAD,UACrB,QAcE;QAbA,EACE,SAAS,EACT,IAAI,EACJ,kBAAkB,EAClB,YAAY,EACZ,oBAAoB,EACpB,aAAa,EACb,OAAO,EACP,KAAK,EACL,OAAO,EACP,MAAM,EACN,GAAG,OACJ;;IAGD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,aAAa,SAAS;IAC5B,MAAM,qBAAqB,cAAc;IACzC,MAAM,YACJ,iBACA,WACA,SACA,OAAO,OAAO,MAAM,GAAG,KACvB;IACF,MAAM,YAAY,cAAc,eAAe,SAAS;IAExD,MAAM,WAAW,sBAAsB;IACvC,MAAM,YAAY,OAAO,sBAAsB,OAAO;IACtD,MAAM,eACJ,cAAc,IAAI,UAAU,cAAc,IAAI,UAAU;IAE1D,qBACE,kQAAC;QAAI,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,WAAW,oBAAoB,IAAI;;0BACpD,kQAAC;gBACC,MAAM;gBACN,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,icACA,iFACA,0GACA,cACA;gBAEF,KAAK;gBACL,OAAO;gBACP,SAAS,CAAC;oBACR,aAAa;oBACb,oBAAA,8BAAA,QAAU;gBACZ;gBACA,QAAQ,CAAC;oBACP,aAAa;oBACb,mBAAA,6BAAA,OAAS;gBACX;gBACC,GAAG,KAAK;;;;;;YAEV,2BACC,kQAAC,oJAAA,CAAA,SAAM;gBACL,MAAK;gBACL,SAAQ;gBACR,MAAK;gBACL,aAAa,CAAC;oBACZ,EAAE,cAAc;oBAChB,oBAAA,8BAAA;gBACF;gBACA,WAAU;gBACV,cAAW;0BAEX,cAAA,kQAAC,gRAAA,CAAA,IAAC;oBAAC,WAAU;;;;;;;;;;;YAGhB,oCACC,kQAAC,oJAAA,CAAA,SAAM;gBACL,MAAK;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,iCAAA,2CAAA,qBAAuB,CAAC;gBACvC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,0EACA,YAAY,aAAa;gBAE3B,cAAY,eAAe,kBAAkB;0BAE5C,6BACC,kQAAC,oRAAA,CAAA,MAAG;oBAAC,WAAU;;;;;6EAEf,kQAAC,8RAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAM9B;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/rename-project-dialog.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { useState } from \"react\";\n\nexport function RenameProjectDialog({\n  isOpen,\n  onOpenChange,\n  onConfirm,\n  projectName,\n}: {\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n  onConfirm: (name: string) => void;\n  projectName: string;\n}) {\n  const [name, setName] = useState(projectName);\n\n  // Reset the name when dialog opens - this is better UX than syncing with every prop change\n  const handleOpenChange = (open: boolean) => {\n    if (open) {\n      setName(projectName);\n    }\n    onOpenChange(open);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Rename Project</DialogTitle>\n          <DialogDescription>\n            Enter a new name for your project.\n          </DialogDescription>\n        </DialogHeader>\n\n        <Input\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              e.preventDefault();\n              onConfirm(name);\n            }\n          }}\n          placeholder=\"Enter a new name\"\n          className=\"mt-0 bg-background border-2 border-border\"\n        />\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              onOpenChange(false);\n            }}\n          >\n            Cancel\n          </Button>\n          <Button onClick={() => onConfirm(name)}>Rename</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAQA;AACA;;;;;;;AAEO,SAAS,oBAAoB,KAUnC;QAVmC,EAClC,MAAM,EACN,YAAY,EACZ,SAAS,EACT,WAAW,EAMZ,GAVmC;;IAWlC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,2FAA2F;IAC3F,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM;YACR,QAAQ;QACV;QACA,aAAa;IACf;IAEA,qBACE,kQAAC,oJAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,kQAAC,oJAAA,CAAA,gBAAa;;8BACZ,kQAAC,oJAAA,CAAA,eAAY;;sCACX,kQAAC,oJAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,kQAAC,oJAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;8BAKrB,kQAAC,mJAAA,CAAA,QAAK;oBACJ,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oBACvC,WAAW,CAAC;wBACV,IAAI,EAAE,GAAG,KAAK,SAAS;4BACrB,EAAE,cAAc;4BAChB,UAAU;wBACZ;oBACF;oBACA,aAAY;oBACZ,WAAU;;;;;;8BAGZ,kQAAC,oJAAA,CAAA,eAAY;;sCACX,kQAAC,oJAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,SAAS,CAAC;gCACR,EAAE,cAAc;gCAChB,EAAE,eAAe;gCACjB,aAAa;4BACf;sCACD;;;;;;sCAGD,kQAAC,oJAAA,CAAA,SAAM;4BAAC,SAAS,IAAM,UAAU;sCAAO;;;;;;;;;;;;;;;;;;;;;;;AAKlD;GA5DgB;KAAA","debugId":null}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,6OAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,kOAAA,CAAA,aAAgB,MAI5B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC,oSAAA,CAAA,QAAc,CAAC,IAAI;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG,oSAAA,CAAA,QAAc,CAAC,IAAI,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Checkbox as CheckboxPrimitive } from \"radix-ui\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow-sm focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,kOAAA,CAAA,aAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC,6SAAA,CAAA,WAAiB,CAAC,IAAI;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,2QACA;QAED,GAAG,KAAK;kBAET,cAAA,kQAAC,6SAAA,CAAA,WAAiB,CAAC,SAAS;YAC1B,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,kQAAC,wRAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,6SAAA,CAAA,WAAiB,CAAC,IAAI,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst selectItemVariants = cva(\n  \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-hidden transition-opacity data-disabled:pointer-events-none data-disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"focus:opacity-65 focus:text-accent-foreground\",\n        destructive: \"text-destructive focus:text-destructive/80\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex gap-1 h-7 cursor-pointer w-auto items-center justify-between whitespace-nowrap rounded-md bg-accent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"size-3 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      onCloseAutoFocus={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item> & {\n    variant?: VariantProps<typeof selectItemVariants>[\"variant\"];\n  }\n>(({ className, children, variant = \"default\", ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(selectItemVariants({ variant }), className)}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-foreground/10\", className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n));\nAlert.displayName = \"Alert\";\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nAlertTitle.displayName = \"AlertTitle\";\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n));\nAlertDescription.displayName = \"AlertDescription\";\n\nexport { Alert, AlertTitle, AlertDescription };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,6OAAA,CAAA,MAAG,AAAD,EACtB,2KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,kOAAA,CAAA,aAAgB,MAG5B,QAAmC;QAAlC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO;yBACjC,kQAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,kOAAA,CAAA,aAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,kOAAA,CAAA,aAAgB,OAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 866, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/lib/project-storage.ts"],"sourcesContent":["import { TProject } from \"@/types/project\";\nimport { MediaFile } from \"@/types/media\";\nimport { TimelineTrack } from \"@/types/timeline\";\nimport {\n  ProjectStorageFile,\n  ProjectMetadata,\n  SerializedProject,\n  SerializedMediaFile,\n  SerializedTimeline,\n  SerializedTrack,\n  SerializedElement,\n  ProjectImportOptions,\n  ProjectExportOptions,\n  ProjectImportResult,\n  ProjectExportResult,\n  ProjectFileValidation,\n} from \"@/types/project-storage\";\n\n// 重新导出类型以供其他模块使用\nexport type {\n  ProjectImportOptions,\n  ProjectExportOptions,\n  ProjectImportResult,\n  ProjectExportResult,\n  ProjectFileValidation,\n};\nimport { useProjectStore } from \"@/stores/project-store\";\nimport { useMediaStore } from \"@/stores/media-store\";\nimport { useTimelineStore } from \"@/stores/timeline-store\";\n\n// 当前存储文件版本\nexport const PROJECT_STORAGE_VERSION = \"1.0.0\";\n\n// 验证项目存储文件\nexport function validateProjectFile(fileData: ArrayBuffer): ProjectFileValidation {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n\n  try {\n    const text = new TextDecoder().decode(fileData);\n    const data = JSON.parse(text) as ProjectStorageFile;\n\n    // 检查版本兼容性\n    if (!data.version) {\n      errors.push(\"Missing version information\");\n    } else if (data.version !== PROJECT_STORAGE_VERSION) {\n      warnings.push(`Version mismatch: file is ${data.version}, expected ${PROJECT_STORAGE_VERSION}`);\n    }\n\n    // 检查必需字段\n    if (!data.metadata) {\n      errors.push(\"Missing metadata\");\n    } else {\n      if (!data.metadata.name) {\n        errors.push(\"Missing project name\");\n      }\n      if (!data.metadata.canvasSize || !data.metadata.canvasSize.width || !data.metadata.canvasSize.height) {\n        errors.push(\"Invalid canvas size\");\n      }\n    }\n\n    if (!data.project) {\n      errors.push(\"Missing project data\");\n    }\n\n    if (!data.timeline) {\n      errors.push(\"Missing timeline data\");\n    }\n\n    if (!data.mediaFiles || !Array.isArray(data.mediaFiles)) {\n      errors.push(\"Missing or invalid media files\");\n    }\n\n    // 检查媒体文件完整性\n    if (data.mediaFiles) {\n      for (const mediaFile of data.mediaFiles) {\n        if (!mediaFile.id || !mediaFile.name || !mediaFile.type || !mediaFile.data) {\n          errors.push(`Invalid media file: ${mediaFile.name || \"unknown\"}`);\n        }\n        if (!mediaFile.mimeType) {\n          warnings.push(`Missing MIME type for media file: ${mediaFile.name}`);\n        }\n      }\n    }\n\n    return {\n      isValid: errors.length === 0,\n      version: data.version,\n      errors,\n      warnings,\n      metadata: data.metadata,\n    };\n  } catch (error) {\n    return {\n      isValid: false,\n      errors: [`Invalid file format: ${error instanceof Error ? error.message : \"Unknown error\"}`],\n      warnings: [],\n    };\n  }\n}\n\n// 导出项目为存储文件\nexport async function exportProjectToFile(\n  projectId: string,\n  options: ProjectExportOptions = {\n    includeMediaFiles: true,\n    includeTimeline: true,\n    compressMediaFiles: false,\n    quality: \"high\",\n    generateThumbnail: true,\n  }\n): Promise<ProjectExportResult> {\n  try {\n    const projectStore = useProjectStore.getState();\n    const mediaStore = useMediaStore.getState();\n    const timelineStore = useTimelineStore.getState();\n\n    // 获取项目数据\n    const project = projectStore.savedProjects.find(p => p.id === projectId);\n    if (!project) {\n      return { success: false, error: \"Project not found\" };\n    }\n\n    // 获取媒体文件 - 从存储服务中加载项目相关的媒体文件\n    let mediaFiles: MediaFile[] = [];\n    if (options.includeMediaFiles) {\n      try {\n        const { storageService } = await import(\"@/lib/storage/storage-service\");\n        mediaFiles = await storageService.loadAllMediaFiles({ projectId });\n      } catch (error) {\n        console.warn(\"Failed to load project media files:\", error);\n        // 如果从存储加载失败，尝试从当前媒体store获取\n        mediaFiles = mediaStore.mediaFiles;\n      }\n    }\n\n    // 获取时间轴数据\n    const tracks = options.includeTimeline ? timelineStore.tracks : [];\n\n    // 生成缩略图\n    let thumbnail: string | undefined;\n    if (options.generateThumbnail) {\n      try {\n        thumbnail = await generateProjectThumbnail(project, tracks, mediaFiles);\n      } catch (error) {\n        console.warn(\"Failed to generate thumbnail:\", error);\n      }\n    }\n\n    // 序列化项目数据\n    const serializedProject = serializeProject(project);\n    const serializedMediaFiles = await serializeMediaFiles(mediaFiles, options);\n    const serializedTimeline = serializeTimeline(tracks);\n\n    // 创建存储文件\n    const storageFile: ProjectStorageFile = {\n      version: PROJECT_STORAGE_VERSION,\n      metadata: {\n        name: project.name,\n        description: `Exported from OpenCut on ${new Date().toLocaleDateString()}`,\n        thumbnail,\n        duration: timelineStore.getTotalDuration(),\n        canvasSize: project.canvasSize,\n        fps: project.fps || 30,\n        backgroundColor: project.backgroundColor,\n        backgroundType: project.backgroundType,\n        blurIntensity: project.blurIntensity,\n      },\n      project: serializedProject,\n      mediaFiles: serializedMediaFiles,\n      timeline: serializedTimeline,\n      createdAt: new Date().toISOString(),\n      exportedBy: \"OpenCut\",\n    };\n\n    // 直接导出为ZIP格式\n    return await exportProjectAsZip(project, storageFile, mediaFiles, options);\n  } catch (error) {\n    console.error(\"Export project failed:\", error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    };\n  }\n}\n\n\n// 导出为压缩包格式\nasync function exportProjectAsZip(\n  project: TProject,\n  storageFile: ProjectStorageFile,\n  mediaFiles: MediaFile[],\n  options: ProjectExportOptions\n): Promise<ProjectExportResult> {\n  const JSZip = (await import(\"jszip\")).default;\n  const zip = new JSZip();\n\n  // 1. 添加项目文件（不包含媒体文件的Base64数据）\n  const projectFileWithoutMedia = {\n    ...storageFile,\n    mediaFiles: [], // 不包含Base64数据，媒体文件单独存储\n  };\n  const projectJsonString = JSON.stringify(projectFileWithoutMedia, null, 2);\n  zip.file(\"project.opencut\", projectJsonString);\n\n  // 2. 添加媒体文件到压缩包\n  if (options.includeMediaFiles && mediaFiles.length > 0) {\n    const mediaFolder = zip.folder(\"media\");\n    if (mediaFolder) {\n      for (const mediaFile of mediaFiles) {\n        try {\n          const arrayBuffer = await mediaFile.file.arrayBuffer();\n          const fileExtension = getFileExtension(mediaFile.file.name);\n          const fileName = `${mediaFile.id}${fileExtension}`;\n          mediaFolder.file(fileName, arrayBuffer);\n        } catch (error) {\n          console.warn(`Failed to add media file ${mediaFile.name} to zip:`, error);\n        }\n      }\n    }\n  }\n\n  // 3. 添加README文件\n  const readmeContent = `# ${project.name}\n\n这是一个OpenCut项目文件包。\n\n## 文件结构\n- project.opencut: 项目配置文件\n- media/: 媒体文件目录\n  ${mediaFiles.map(f => `- ${f.id}${getFileExtension(f.file.name)}: ${f.name}`).join('\\n  ')}\n\n## 导入说明\n1. 在OpenCut中点击\"导入项目\"\n2. 选择这个.zip文件\n3. 项目将自动恢复所有媒体文件和时间轴数据\n\n导出时间: ${new Date().toLocaleString()}\nOpenCut版本: ${PROJECT_STORAGE_VERSION}\n`;\n  zip.file(\"README.md\", readmeContent);\n\n  // 4. 生成压缩包\n  const zipBuffer = await zip.generateAsync({ type: \"arraybuffer\" });\n  const fileName = `${project.name.replace(/[^a-zA-Z0-9]/g, \"_\")}_${new Date().toISOString().split(\"T\")[0]}.zip`;\n\n  return {\n    success: true,\n    fileData: zipBuffer,\n    fileName,\n    fileSize: zipBuffer.byteLength,\n  };\n}\n\n// 获取文件扩展名\nfunction getFileExtension(fileName: string): string {\n  const lastDot = fileName.lastIndexOf('.');\n  return lastDot !== -1 ? fileName.substring(lastDot) : '';\n}\n\n\n// 从ZIP文件导入项目\nasync function importProjectFromZip(\n  fileData: ArrayBuffer,\n  options: ProjectImportOptions\n): Promise<ProjectImportResult & { storageFile?: ProjectStorageFile; mediaFiles?: MediaFile[] }> {\n  try {\n    const JSZip = (await import(\"jszip\")).default;\n    const zip = await JSZip.loadAsync(fileData);\n\n    // 1. 读取项目文件\n    const projectFile = zip.file(\"project.opencut\");\n    if (!projectFile) {\n      return {\n        success: false,\n        error: \"Project file not found in ZIP archive\",\n      };\n    }\n\n    const projectContent = await projectFile.async(\"text\");\n    const storageFile = JSON.parse(projectContent) as ProjectStorageFile;\n\n    // 2. 读取媒体文件\n    const mediaFiles: MediaFile[] = [];\n    if (options.includeMediaFiles) {\n      const mediaFolder = zip.folder(\"media\");\n      if (mediaFolder) {\n        const mediaFilesPromises = Object.keys(mediaFolder.files).map(async (fileName) => {\n          const file = mediaFolder.files[fileName];\n          if (!file.dir) {\n            try {\n              const arrayBuffer = await file.async(\"arraybuffer\");\n              const blob = new Blob([arrayBuffer]);\n              const fileObj = new File([blob], fileName, { type: getMimeTypeFromExtension(fileName) });\n              \n              // 从文件名提取媒体ID\n              const mediaId = fileName.substring(0, fileName.lastIndexOf('.'));\n              \n              return {\n                id: mediaId,\n                name: fileName,\n                type: getFileTypeFromExtension(fileName),\n                file: fileObj,\n                url: URL.createObjectURL(blob),\n              } as MediaFile;\n            } catch (error) {\n              console.warn(`Failed to process media file ${fileName}:`, error);\n              return null;\n            }\n          }\n          return null;\n        });\n\n        const results = await Promise.all(mediaFilesPromises);\n        mediaFiles.push(...results.filter((file): file is MediaFile => file !== null));\n      }\n    }\n\n    return {\n      success: true,\n      storageFile,\n      mediaFiles,\n    };\n  } catch (error) {\n    console.error(\"Failed to import project from ZIP:\", error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    };\n  }\n}\n\n// 根据文件扩展名获取MIME类型\nfunction getMimeTypeFromExtension(fileName: string): string {\n  const extension = getFileExtension(fileName).toLowerCase();\n  const mimeTypes: Record<string, string> = {\n    '.jpg': 'image/jpeg',\n    '.jpeg': 'image/jpeg',\n    '.png': 'image/png',\n    '.gif': 'image/gif',\n    '.webp': 'image/webp',\n    '.mp4': 'video/mp4',\n    '.webm': 'video/webm',\n    '.avi': 'video/x-msvideo',\n    '.mov': 'video/quicktime',\n    '.mp3': 'audio/mpeg',\n    '.wav': 'audio/wav',\n    '.ogg': 'audio/ogg',\n    '.aac': 'audio/aac',\n  };\n  return mimeTypes[extension] || 'application/octet-stream';\n}\n\n// 根据文件扩展名获取文件类型\nfunction getFileTypeFromExtension(fileName: string): \"image\" | \"video\" | \"audio\" {\n  const extension = getFileExtension(fileName).toLowerCase();\n  if (['.jpg', '.jpeg', '.png', '.gif', '.webp'].includes(extension)) {\n    return 'image';\n  } else if (['.mp4', '.webm', '.avi', '.mov'].includes(extension)) {\n    return 'video';\n  } else if (['.mp3', '.wav', '.ogg', '.aac'].includes(extension)) {\n    return 'audio';\n  }\n  return 'image'; // 默认类型\n}\n\n// 从存储文件导入项目\nexport async function importProjectFromFile(\n  fileData: ArrayBuffer,\n  options: ProjectImportOptions = {\n    includeMediaFiles: true,\n    includeTimeline: true,\n    mergeWithExisting: false,\n  }\n): Promise<ProjectImportResult> {\n  try {\n    // 只支持ZIP格式\n    const result = await importProjectFromZip(fileData, options);\n    if (!result.success) {\n      return result;\n    }\n    \n    const storageFile = result.storageFile!;\n    const mediaFiles = result.mediaFiles || [];\n\n    const projectStore = useProjectStore.getState();\n    const mediaStore = useMediaStore.getState();\n    const timelineStore = useTimelineStore.getState();\n\n    // 生成新的项目ID\n    const newProjectId = crypto.randomUUID();\n    const projectName = options.newProjectName || storageFile.metadata.name;\n\n    // 反序列化项目数据\n    const project = deserializeProject(storageFile.project, newProjectId, projectName);\n\n    // 导入媒体文件\n    let importedMediaCount = 0;\n    if (options.includeMediaFiles && storageFile.mediaFiles) {\n      const mediaFiles = await deserializeMediaFiles(storageFile.mediaFiles);\n      for (const mediaFile of mediaFiles) {\n        // 暂时跳过媒体文件添加，因为需要项目ID\n        // await mediaStore.addMediaFile(mediaFile);\n        importedMediaCount++;\n      }\n    }\n\n    // 导入时间轴数据\n    let importedTracksCount = 0;\n    if (options.includeTimeline && storageFile.timeline) {\n      const tracks = deserializeTimeline(storageFile.timeline);\n      // 暂时跳过时间轴添加，因为需要项目ID\n      // for (const track of tracks) {\n      //   timelineStore.addTrack(track);\n      //   importedTracksCount++;\n      // }\n    }\n\n    // 保存项目\n    await projectStore.createNewProject(project.name);\n\n    return {\n      success: true,\n      projectId: newProjectId,\n      importedMediaCount,\n      importedTracksCount,\n    };\n  } catch (error) {\n    console.error(\"Import project failed:\", error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : \"Unknown error\",\n    };\n  }\n}\n\n// 序列化项目数据\nfunction serializeProject(project: TProject): SerializedProject {\n  return {\n    id: project.id,\n    name: project.name,\n    createdAt: project.createdAt.toISOString(),\n    updatedAt: project.updatedAt.toISOString(),\n    scenes: project.scenes.map(scene => ({\n      id: scene.id,\n      name: scene.name,\n      isMain: scene.isMain,\n      createdAt: scene.createdAt.toISOString(),\n      updatedAt: scene.updatedAt.toISOString(),\n    })),\n    currentSceneId: project.currentSceneId,\n    canvasSize: project.canvasSize,\n    canvasMode: project.canvasMode,\n    fps: project.fps,\n    backgroundColor: project.backgroundColor,\n    backgroundType: project.backgroundType,\n    blurIntensity: project.blurIntensity,\n    bookmarks: project.bookmarks,\n  };\n}\n\n// 序列化媒体文件\nasync function serializeMediaFiles(\n  mediaFiles: MediaFile[],\n  options: ProjectExportOptions\n): Promise<SerializedMediaFile[]> {\n  const serializedFiles: SerializedMediaFile[] = [];\n\n  for (const mediaFile of mediaFiles) {\n    try {\n      // 转换文件为Base64\n      const arrayBuffer = await mediaFile.file.arrayBuffer();\n      const base64 = btoa(String.fromCharCode(...new Uint8Array(arrayBuffer)));\n\n      serializedFiles.push({\n        id: mediaFile.id,\n        name: mediaFile.name,\n        type: mediaFile.type,\n        data: base64,\n        size: mediaFile.file.size,\n        duration: mediaFile.duration,\n        width: mediaFile.width,\n        height: mediaFile.height,\n        fps: mediaFile.fps,\n        mimeType: mediaFile.file.type,\n        lastModified: mediaFile.file.lastModified,\n        thumbnail: mediaFile.thumbnailUrl,\n      });\n    } catch (error) {\n      console.warn(`Failed to serialize media file ${mediaFile.name}:`, error);\n    }\n  }\n\n  return serializedFiles;\n}\n\n// 序列化时间轴数据\nfunction serializeTimeline(tracks: TimelineTrack[]): SerializedTimeline {\n  const timelineStore = useTimelineStore.getState();\n  \n  return {\n    tracks: tracks.map((track, index) => ({\n      id: track.id,\n      name: track.name,\n      type: track.type,\n      elements: track.elements.map(element => ({\n        id: element.id,\n        name: element.name,\n        type: element.type,\n        startTime: element.startTime,\n        duration: element.duration,\n        trimStart: element.trimStart,\n        trimEnd: element.trimEnd,\n        hidden: element.hidden,\n        muted: element.type === \"media\" ? element.muted : undefined,\n        mediaId: element.type === \"media\" ? element.mediaId : undefined,\n        content: element.type === \"text\" ? element.content : undefined,\n        fontSize: element.type === \"text\" ? element.fontSize : undefined,\n        fontFamily: element.type === \"text\" ? element.fontFamily : undefined,\n        color: element.type === \"text\" ? element.color : undefined,\n        backgroundColor: element.type === \"text\" ? element.backgroundColor : undefined,\n        textAlign: element.type === \"text\" ? element.textAlign : undefined,\n        fontWeight: element.type === \"text\" ? element.fontWeight : undefined,\n        fontStyle: element.type === \"text\" ? element.fontStyle : undefined,\n        textDecoration: element.type === \"text\" ? element.textDecoration : undefined,\n        x: element.type === \"text\" ? element.x : undefined,\n        y: element.type === \"text\" ? element.y : undefined,\n        rotation: element.type === \"text\" ? element.rotation : undefined,\n        opacity: element.type === \"text\" ? element.opacity : undefined,\n      })),\n      muted: track.muted,\n      isMain: track.isMain,\n      order: index,\n    })),\n    totalDuration: timelineStore.getTotalDuration(),\n    playheadPosition: 0, // 默认位置\n    zoomLevel: 1, // 默认缩放\n  };\n}\n\n// 反序列化项目数据\nfunction deserializeProject(\n  serializedProject: SerializedProject,\n  newId: string,\n  newName: string\n): TProject {\n  return {\n    id: newId,\n    name: newName,\n    thumbnail: \"\", // 将在导入后生成\n    createdAt: new Date(serializedProject.createdAt),\n    updatedAt: new Date(serializedProject.updatedAt),\n    scenes: serializedProject.scenes.map(scene => ({\n      id: scene.id,\n      name: scene.name,\n      isMain: (scene as any).isMain || false,\n      createdAt: new Date(scene.createdAt),\n      updatedAt: new Date(scene.updatedAt),\n    })),\n    currentSceneId: serializedProject.currentSceneId,\n    canvasSize: serializedProject.canvasSize,\n    canvasMode: serializedProject.canvasMode,\n    fps: serializedProject.fps,\n    backgroundColor: serializedProject.backgroundColor,\n    backgroundType: serializedProject.backgroundType,\n    blurIntensity: serializedProject.blurIntensity as any,\n    bookmarks: serializedProject.bookmarks,\n  };\n}\n\n// 反序列化媒体文件\nasync function deserializeMediaFiles(serializedFiles: SerializedMediaFile[]): Promise<MediaFile[]> {\n  const mediaFiles: MediaFile[] = [];\n\n  for (const serializedFile of serializedFiles) {\n    try {\n      // 将Base64转换回文件\n      const binaryString = atob(serializedFile.data);\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      const file = new File([bytes], serializedFile.name, { type: serializedFile.mimeType });\n\n      mediaFiles.push({\n        id: serializedFile.id,\n        name: serializedFile.name,\n        type: serializedFile.type,\n        file,\n        url: URL.createObjectURL(file),\n        thumbnailUrl: serializedFile.thumbnail,\n        duration: serializedFile.duration,\n        width: serializedFile.width,\n        height: serializedFile.height,\n        fps: serializedFile.fps,\n      });\n    } catch (error) {\n      console.warn(`Failed to deserialize media file ${serializedFile.name}:`, error);\n    }\n  }\n\n  return mediaFiles;\n}\n\n// 反序列化时间轴数据\nfunction deserializeTimeline(serializedTimeline: SerializedTimeline): TimelineTrack[] {\n  return serializedTimeline.tracks.map(track => ({\n    id: track.id,\n    name: track.name,\n    type: track.type,\n    elements: track.elements.map(element => {\n      if (element.type === \"media\") {\n        return {\n          id: element.id,\n          name: element.name,\n          type: \"media\" as const,\n          startTime: element.startTime,\n          duration: element.duration,\n          trimStart: element.trimStart,\n          trimEnd: element.trimEnd,\n          hidden: element.hidden,\n          mediaId: element.mediaId!,\n          muted: element.muted,\n        };\n      } else {\n        return {\n          id: element.id,\n          name: element.name,\n          type: \"text\" as const,\n          startTime: element.startTime,\n          duration: element.duration,\n          trimStart: element.trimStart,\n          trimEnd: element.trimEnd,\n          hidden: element.hidden,\n          content: element.content!,\n          fontSize: element.fontSize!,\n          fontFamily: element.fontFamily!,\n          color: element.color!,\n          backgroundColor: element.backgroundColor!,\n          textAlign: element.textAlign!,\n          fontWeight: element.fontWeight!,\n          fontStyle: element.fontStyle!,\n          textDecoration: element.textDecoration!,\n          x: element.x!,\n          y: element.y!,\n          rotation: element.rotation!,\n          opacity: element.opacity!,\n        };\n      }\n    }),\n    muted: track.muted,\n    isMain: track.isMain,\n  }));\n}\n\n// 生成项目缩略图\nasync function generateProjectThumbnail(\n  project: TProject,\n  tracks: TimelineTrack[],\n  mediaFiles: MediaFile[]\n): Promise<string> {\n  // 这里应该实现缩略图生成逻辑\n  // 暂时返回空字符串\n  return \"\";\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1455, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/project-import-export/import-export-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Download, Upload, FileText, AlertCircle, CheckCircle } from \"lucide-react\";\nimport { \n  exportProjectToFile, \n  importProjectFromFile, \n  type ProjectExportOptions,\n  type ProjectImportOptions \n} from \"@/lib/project-storage\";\nimport { useProjectStore } from \"@/stores/project-store\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ImportExportDialogProps {\n  mode: \"import\" | \"export\";\n  projectId?: string; // 导出时需要的项目ID\n  onImportComplete?: () => void;\n  children: React.ReactNode;\n}\n\nexport function ImportExportDialog({ mode, projectId, onImportComplete, children }: ImportExportDialogProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [warnings, setWarnings] = useState<string[]>([]);\n  \n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const router = useRouter();\n  \n  const { activeProject, savedProjects } = useProjectStore();\n  \n  // 导出选项\n  const [exportOptions, setExportOptions] = useState<ProjectExportOptions>({\n    includeMediaFiles: true,\n    includeTimeline: true,\n    compressMediaFiles: false,\n    quality: \"high\",\n    generateThumbnail: true,\n  });\n  \n  // 导入选项\n  const [importOptions, setImportOptions] = useState<ProjectImportOptions>({\n    includeMediaFiles: true,\n    includeTimeline: true,\n    mergeWithExisting: false,\n    newProjectName: \"\",\n  });\n\n  const handleExport = async () => {\n    if (!projectId) {\n      setError(\"No project selected for export\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n    setSuccess(null);\n    setProgress(0);\n\n    try {\n      // 模拟进度更新\n      const progressInterval = setInterval(() => {\n        setProgress(prev => Math.min(prev + 10, 90));\n      }, 200);\n\n      const result = await exportProjectToFile(projectId, exportOptions);\n      \n      clearInterval(progressInterval);\n      setProgress(100);\n\n      if (result.success && result.fileData) {\n        // 下载文件\n        const blob = new Blob([result.fileData], { type: \"application/json\" });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = result.fileName || \"project.opencut\";\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n\n        setSuccess(`Project exported successfully! File size: ${formatFileSize(result.fileSize || 0)}`);\n        setTimeout(() => setIsOpen(false), 2000);\n      } else {\n        setError(result.error || \"Export failed\");\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Export failed\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleImport = async () => {\n    const fileInput = fileInputRef.current;\n    if (!fileInput?.files?.[0]) {\n      setError(\"Please select a file to import\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n    setSuccess(null);\n    setWarnings([]);\n    setProgress(0);\n\n    try {\n      const file = fileInput.files[0];\n      const arrayBuffer = await file.arrayBuffer();\n      \n      // 直接导入ZIP文件\n      setProgress(20);\n\n      setProgress(60);\n\n      // 导入项目\n      const result = await importProjectFromFile(arrayBuffer, {\n        ...importOptions,\n        newProjectName: importOptions.newProjectName || file.name.replace('.zip', '')\n      });\n\n      setProgress(100);\n\n      if (result.success && result.projectId) {\n        setSuccess(`Project imported successfully! ${result.importedMediaCount || 0} media files, ${result.importedTracksCount || 0} tracks imported.`);\n        \n        // 调用导入完成回调\n        onImportComplete?.();\n        \n        // 跳转到新项目\n        setTimeout(() => {\n          router.push(`/editor/${result.projectId}`);\n          setIsOpen(false);\n        }, 2000);\n      } else {\n        setError(result.error || \"Import failed\");\n        setWarnings(result.warnings || []);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Import failed\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  };\n\n  const resetForm = () => {\n    setError(null);\n    setSuccess(null);\n    setWarnings([]);\n    setProgress(0);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const handleOpenChange = (open: boolean) => {\n    setIsOpen(open);\n    if (!open) {\n      resetForm();\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleOpenChange}>\n      <DialogTrigger asChild>\n        {children}\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            {mode === \"import\" ? (\n              <>\n                <Upload className=\"h-5 w-5\" />\n                Import Project\n              </>\n            ) : (\n              <>\n                <Download className=\"h-5 w-5\" />\n                Export Project\n              </>\n            )}\n          </DialogTitle>\n          <DialogDescription>\n            {mode === \"import\" \n              ? \"Import a project from a .zip package\"\n              : \"Export your project as a .zip package for backup or sharing\"\n            }\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {mode === \"import\" ? (\n            <>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"file-input\">Project File</Label>\n                <Input\n                  id=\"file-input\"\n                  type=\"file\"\n                  accept=\".zip\"\n                  ref={fileInputRef}\n                  onChange={() => setError(null)}\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Select a .zip project package to import\n                </p>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"project-name\">Project Name</Label>\n                <Input\n                  id=\"project-name\"\n                  placeholder=\"Enter project name\"\n                  value={importOptions.newProjectName}\n                  onChange={(e) => setImportOptions((prev: ProjectImportOptions) => ({\n                    ...prev,\n                    newProjectName: e.target.value\n                  }))}\n                />\n              </div>\n\n            </>\n          ) : (\n            <>\n              <div className=\"space-y-3\">\n                <Label>Export Options</Label>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"export-media\"\n                      checked={exportOptions.includeMediaFiles}\n                      onCheckedChange={(checked) => setExportOptions((prev: ProjectExportOptions) => ({\n                        ...prev,\n                        includeMediaFiles: checked as boolean\n                      }))}\n                    />\n                    <Label htmlFor=\"export-media\">Include media files</Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"export-timeline\"\n                      checked={exportOptions.includeTimeline}\n                      onCheckedChange={(checked) => setExportOptions((prev: ProjectExportOptions) => ({\n                        ...prev,\n                        includeTimeline: checked as boolean\n                      }))}\n                    />\n                    <Label htmlFor=\"export-timeline\">Include timeline</Label>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Checkbox\n                      id=\"generate-thumbnail\"\n                      checked={exportOptions.generateThumbnail}\n                      onCheckedChange={(checked) => setExportOptions((prev: ProjectExportOptions) => ({\n                        ...prev,\n                        generateThumbnail: checked as boolean\n                      }))}\n                    />\n                    <Label htmlFor=\"generate-thumbnail\">Generate thumbnail</Label>\n                  </div>\n                </div>\n              </div>\n\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"quality\">Media Quality</Label>\n                <Select\n                  value={exportOptions.quality}\n                  onValueChange={(value: \"low\" | \"medium\" | \"high\") => \n                    setExportOptions((prev: ProjectExportOptions) => ({ ...prev, quality: value }))\n                  }\n                >\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"low\">Low (Smaller file)</SelectItem>\n                    <SelectItem value=\"medium\">Medium (Balanced)</SelectItem>\n                    <SelectItem value=\"high\">High (Best quality)</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </>\n          )}\n\n          {isLoading && (\n            <div className=\"space-y-2\">\n              <Progress value={progress} className=\"w-full\" />\n              <p className=\"text-sm text-muted-foreground text-center\">\n                {mode === \"import\" ? \"Importing project...\" : \"Exporting project...\"} {progress}%\n              </p>\n            </div>\n          )}\n\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          {success && (\n            <Alert>\n              <CheckCircle className=\"h-4 w-4\" />\n              <AlertDescription>{success}</AlertDescription>\n            </Alert>\n          )}\n\n          {warnings.length > 0 && (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                <div className=\"space-y-1\">\n                  <p className=\"font-medium\">Warnings:</p>\n                  <ul className=\"list-disc list-inside space-y-1\">\n                    {warnings.map((warning, index) => (\n                      <li key={index} className=\"text-sm\">{warning}</li>\n                    ))}\n                  </ul>\n                </div>\n              </AlertDescription>\n            </Alert>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={() => setIsOpen(false)}\n            disabled={isLoading}\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={mode === \"import\" ? handleImport : handleExport}\n            disabled={isLoading || (mode === \"import\" && !fileInputRef.current?.files?.[0])}\n          >\n            {isLoading ? (\n              <>\n                <FileText className=\"h-4 w-4 mr-2 animate-spin\" />\n                {mode === \"import\" ? \"Importing...\" : \"Exporting...\"}\n              </>\n            ) : (\n              <>\n                {mode === \"import\" ? (\n                  <>\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Import\n                  </>\n                ) : (\n                  <>\n                    <Download className=\"h-4 w-4 mr-2\" />\n                    Export\n                  </>\n                )}\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2181, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/project-import-export/project-actions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Download, Upload } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { ImportExportDialog } from \"./import-export-dialog\";\r\n\r\ninterface ProjectActionsProps {\r\n  projectId?: string; // 用于导出\r\n  onImportComplete?: () => void;\r\n  children?: React.ReactNode; // 支持children\r\n}\r\n\r\nexport function ProjectActions({ projectId, onImportComplete, children }: ProjectActionsProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      {/* 导入按钮 */}\r\n      <ImportExportDialog mode=\"import\" onImportComplete={onImportComplete}>\r\n        <Button variant=\"outline\" size=\"sm\">\r\n          <Upload className=\"h-4 w-4 mr-2\" />\r\n          Import\r\n        </Button>\r\n      </ImportExportDialog>\r\n\r\n      {/* 导出按钮 */}\r\n      {projectId && (\r\n        <ImportExportDialog mode=\"export\" projectId={projectId}>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export\r\n          </Button>\r\n        </ImportExportDialog>\r\n      )}\r\n\r\n      {/* 自定义children */}\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AAQA;AAXA;;;;;AAmBO,SAAS,eAAe,KAA8D;QAA9D,EAAE,SAAS,EAAE,gBAAgB,EAAE,QAAQ,EAAuB,GAA9D;IAC7B,qBACE,kQAAC;QAAI,WAAU;;0BAEb,kQAAC,iMAAA,CAAA,qBAAkB;gBAAC,MAAK;gBAAS,kBAAkB;0BAClD,cAAA,kQAAC,oJAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC7B,kQAAC,0RAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;YAMtC,2BACC,kQAAC,iMAAA,CAAA,qBAAkB;gBAAC,MAAK;gBAAS,WAAW;0BAC3C,cAAA,kQAAC,oJAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC7B,kQAAC,8RAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;YAO1C;;;;;;;AAGP;KAzBgB","debugId":null}},
    {"offset": {"line": 2271, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/project-import-export/bulk-import-export.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { \r\n  Download, \r\n  Upload, \r\n  FileText, \r\n  AlertCircle, \r\n  CheckCircle,\r\n  Archive,\r\n  FolderOpen\r\n} from \"lucide-react\";\r\nimport { \r\n  exportProjectToFile, \r\n  importProjectFromFile, \r\n  type ProjectExportOptions,\r\n  type ProjectImportOptions \r\n} from \"@/lib/project-storage\";\r\nimport { useProjectStore } from \"@/stores/project-store\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface BulkImportExportProps {\r\n  selectedProjects: string[];\r\n  onComplete?: () => void;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function BulkImportExport({ selectedProjects, onComplete, children }: BulkImportExportProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [mode, setMode] = useState<\"import\" | \"export\">(\"export\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [currentTask, setCurrentTask] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  const [results, setResults] = useState<Array<{\r\n    projectId: string;\r\n    projectName: string;\r\n    success: boolean;\r\n    error?: string;\r\n  }>>([]);\r\n  \r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const router = useRouter();\r\n  \r\n  const { savedProjects } = useProjectStore();\r\n  \r\n  // 导出选项\r\n  const [exportOptions, setExportOptions] = useState<ProjectExportOptions>({\r\n    includeMediaFiles: true,\r\n    includeTimeline: true,\r\n    compressMediaFiles: true,\r\n    quality: \"medium\",\r\n    generateThumbnail: true,\r\n  });\r\n  \r\n  // 导入选项\r\n  const [importOptions, setImportOptions] = useState<ProjectImportOptions>({\r\n    includeMediaFiles: true,\r\n    includeTimeline: true,\r\n    mergeWithExisting: false,\r\n    newProjectName: \"\",\r\n  });\r\n\r\n  const handleBulkExport = async () => {\r\n    if (selectedProjects.length === 0) {\r\n      setError(\"No projects selected for export\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n    setResults([]);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const results: Array<{\r\n        projectId: string;\r\n        projectName: string;\r\n        success: boolean;\r\n        error?: string;\r\n      }> = [];\r\n\r\n      for (let i = 0; i < selectedProjects.length; i++) {\r\n        const projectId = selectedProjects[i];\r\n        const project = savedProjects.find(p => p.id === projectId);\r\n        \r\n        if (!project) {\r\n          results.push({\r\n            projectId,\r\n            projectName: \"Unknown\",\r\n            success: false,\r\n            error: \"Project not found\"\r\n          });\r\n          continue;\r\n        }\r\n\r\n        setCurrentTask(`Exporting ${project.name}...`);\r\n        setProgress((i / selectedProjects.length) * 100);\r\n\r\n        try {\r\n          const result = await exportProjectToFile(projectId, exportOptions);\r\n          \r\n          if (result.success && result.fileData) {\r\n            // 下载文件\r\n            const blob = new Blob([result.fileData], { type: \"application/json\" });\r\n            const url = URL.createObjectURL(blob);\r\n            const a = document.createElement(\"a\");\r\n            a.href = url;\r\n            a.download = result.fileName || `${project.name}.zip`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n            URL.revokeObjectURL(url);\r\n\r\n            results.push({\r\n              projectId,\r\n              projectName: project.name,\r\n              success: true\r\n            });\r\n          } else {\r\n            results.push({\r\n              projectId,\r\n              projectName: project.name,\r\n              success: false,\r\n              error: result.error || \"Export failed\"\r\n            });\r\n          }\r\n        } catch (err) {\r\n          results.push({\r\n            projectId,\r\n            projectName: project.name,\r\n            success: false,\r\n            error: err instanceof Error ? err.message : \"Unknown error\"\r\n          });\r\n        }\r\n      }\r\n\r\n      setResults(results);\r\n      setProgress(100);\r\n      setCurrentTask(\"Export completed\");\r\n\r\n      const successCount = results.filter(r => r.success).length;\r\n      setSuccess(`Bulk export completed! ${successCount}/${selectedProjects.length} projects exported successfully.`);\r\n\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Bulk export failed\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBulkImport = async () => {\r\n    const fileInput = fileInputRef.current;\r\n    if (!fileInput?.files?.length) {\r\n      setError(\"Please select files to import\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n    setResults([]);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const files = Array.from(fileInput.files);\r\n      const results: Array<{\r\n        projectId: string;\r\n        projectName: string;\r\n        success: boolean;\r\n        error?: string;\r\n      }> = [];\r\n\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n        setCurrentTask(`Importing ${file.name}...`);\r\n        setProgress((i / files.length) * 100);\r\n\r\n        try {\r\n          const arrayBuffer = await file.arrayBuffer();\r\n          \r\n          // 导入项目（现在只支持ZIP格式）\r\n          const result = await importProjectFromFile(arrayBuffer, {\r\n            ...importOptions,\r\n            newProjectName: importOptions.newProjectName || file.name.replace('.zip', '')\r\n          });\r\n\r\n          results.push({\r\n            projectId: result.projectId || \"\",\r\n            projectName: file.name.replace('.zip', ''),\r\n            success: result.success,\r\n            error: result.error\r\n          });\r\n\r\n          if (result.success && result.projectId) {\r\n            // 跳转到第一个成功导入的项目\r\n            if (i === 0) {\r\n              setTimeout(() => {\r\n                router.push(`/editor/${result.projectId}`);\r\n              }, 1000);\r\n            }\r\n          }\r\n\r\n        } catch (err) {\r\n          results.push({\r\n            projectId: \"\",\r\n            projectName: file.name,\r\n            success: false,\r\n            error: err instanceof Error ? err.message : \"Import failed\"\r\n          });\r\n        }\r\n      }\r\n\r\n      setResults(results);\r\n      setProgress(100);\r\n      setCurrentTask(\"Import completed\");\r\n\r\n      const successCount = results.filter(r => r.success).length;\r\n      setSuccess(`Bulk import completed! ${successCount}/${files.length} projects imported successfully.`);\r\n\r\n      if (onComplete) {\r\n        onComplete();\r\n      }\r\n\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Bulk import failed\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setError(null);\r\n    setSuccess(null);\r\n    setResults([]);\r\n    setProgress(0);\r\n    setCurrentTask(\"\");\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleOpenChange = (open: boolean) => {\r\n    setIsOpen(open);\r\n    if (!open) {\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={handleOpenChange}>\r\n      <DialogTrigger asChild>\r\n        {children}\r\n      </DialogTrigger>\r\n      <DialogContent className=\"sm:max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            {mode === \"import\" ? (\r\n              <>\r\n                <Upload className=\"h-5 w-5\" />\r\n                Bulk Import Projects\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Download className=\"h-5 w-5\" />\r\n                Bulk Export Projects\r\n              </>\r\n            )}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {mode === \"import\" \r\n              ? `Import multiple projects from .zip files (${selectedProjects.length} selected)`\r\n              : `Export ${selectedProjects.length} selected projects to .zip files`\r\n            }\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4\">\r\n          {/* 模式切换 */}\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant={mode === \"export\" ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => setMode(\"export\")}\r\n              disabled={isLoading || selectedProjects.length === 0}\r\n            >\r\n              <Download className=\"h-4 w-4 mr-2\" />\r\n              Export ({selectedProjects.length})\r\n            </Button>\r\n            <Button\r\n              variant={mode === \"import\" ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => setMode(\"import\")}\r\n              disabled={isLoading}\r\n            >\r\n              <Upload className=\"h-4 w-4 mr-2\" />\r\n              Import\r\n            </Button>\r\n          </div>\r\n\r\n          {mode === \"import\" ? (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"bulk-file-input\">Project Files</Label>\r\n                <Input\r\n                  id=\"bulk-file-input\"\r\n                  type=\"file\"\r\n                  accept=\".zip\"\r\n                  multiple\r\n                  ref={fileInputRef}\r\n                  onChange={() => setError(null)}\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Select multiple .zip project files to import\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"bulk-project-name\">Default Project Name</Label>\r\n                <Input\r\n                  id=\"bulk-project-name\"\r\n                  placeholder=\"Enter default project name prefix\"\r\n                  value={importOptions.newProjectName}\r\n                  onChange={(e) => setImportOptions(prev => ({\r\n                    ...prev,\r\n                    newProjectName: e.target.value\r\n                  }))}\r\n                />\r\n              </div>\r\n\r\n\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"space-y-3\">\r\n                <Label>Export Options</Label>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Checkbox\r\n                      id=\"bulk-export-media\"\r\n                      checked={exportOptions.includeMediaFiles}\r\n                      onCheckedChange={(checked) => setExportOptions(prev => ({\r\n                        ...prev,\r\n                        includeMediaFiles: checked as boolean\r\n                      }))}\r\n                    />\r\n                    <Label htmlFor=\"bulk-export-media\">Include media files</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Checkbox\r\n                      id=\"bulk-export-timeline\"\r\n                      checked={exportOptions.includeTimeline}\r\n                      onCheckedChange={(checked) => setExportOptions(prev => ({\r\n                        ...prev,\r\n                        includeTimeline: checked as boolean\r\n                      }))}\r\n                    />\r\n                    <Label htmlFor=\"bulk-export-timeline\">Include timeline</Label>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Checkbox\r\n                      id=\"bulk-generate-thumbnail\"\r\n                      checked={exportOptions.generateThumbnail}\r\n                      onCheckedChange={(checked) => setExportOptions(prev => ({\r\n                        ...prev,\r\n                        generateThumbnail: checked as boolean\r\n                      }))}\r\n                    />\r\n                    <Label htmlFor=\"bulk-generate-thumbnail\">Generate thumbnails</Label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-3 bg-muted rounded-lg\">\r\n                <p className=\"text-sm font-medium mb-2\">Selected Projects:</p>\r\n                <div className=\"space-y-1 max-h-32 overflow-y-auto\">\r\n                  {selectedProjects.map(projectId => {\r\n                    const project = savedProjects.find(p => p.id === projectId);\r\n                    return (\r\n                      <div key={projectId} className=\"text-xs text-muted-foreground\">\r\n                        • {project?.name || \"Unknown Project\"}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {isLoading && (\r\n            <div className=\"space-y-2\">\r\n              <Progress value={progress} className=\"w-full\" />\r\n              <p className=\"text-sm text-muted-foreground text-center\">\r\n                {currentTask} {Math.round(progress)}%\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <Alert variant=\"destructive\">\r\n              <AlertCircle className=\"h-4 w-4\" />\r\n              <AlertDescription>{error}</AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          {success && (\r\n            <Alert>\r\n              <CheckCircle className=\"h-4 w-4\" />\r\n              <AlertDescription>{success}</AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          {results.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <p className=\"text-sm font-medium\">Results:</p>\r\n              <div className=\"max-h-32 overflow-y-auto space-y-1\">\r\n                {results.map((result, index) => (\r\n                  <div key={index} className=\"flex items-center gap-2 text-xs\">\r\n                    {result.success ? (\r\n                      <CheckCircle className=\"h-3 w-3 text-green-500\" />\r\n                    ) : (\r\n                      <AlertCircle className=\"h-3 w-3 text-red-500\" />\r\n                    )}\r\n                    <span className={result.success ? \"text-green-700\" : \"text-red-700\"}>\r\n                      {result.projectName}\r\n                    </span>\r\n                    {result.error && (\r\n                      <span className=\"text-muted-foreground\">- {result.error}</span>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => setIsOpen(false)}\r\n            disabled={isLoading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={mode === \"import\" ? handleBulkImport : handleBulkExport}\r\n            disabled={isLoading || (mode === \"import\" && !fileInputRef.current?.files?.length) || (mode === \"export\" && selectedProjects.length === 0)}\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <FileText className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                {mode === \"import\" ? \"Importing...\" : \"Exporting...\"}\r\n              </>\r\n            ) : (\r\n              <>\r\n                {mode === \"import\" ? (\r\n                  <>\r\n                    <Upload className=\"h-4 w-4 mr-2\" />\r\n                    Import Projects\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Download className=\"h-4 w-4 mr-2\" />\r\n                    Export Projects\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3080, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground\", className)}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,kOAAA,CAAA,aAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,kOAAA,CAAA,aAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,kOAAA,CAAA,aAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,kOAAA,CAAA,aAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,kOAAA,CAAA,aAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,kOAAA,CAAA,aAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,kQAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3201, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { DropdownMenu as DropdownMenuPrimitive } from \"radix-ui\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"../../lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst dropdownMenuItemVariants = cva(\n  \"relative flex cursor-pointer select-none items-center gap-2 px-2 py-1.5 text-sm outline-hidden transition-opacity data-disabled:pointer-events-none data-disabled:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"focus:opacity-65 focus:text-accent-foreground\",\n        destructive: \"text-destructive focus:text-destructive/80\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n    variant?: VariantProps<typeof dropdownMenuItemVariants>[\"variant\"];\n  }\n>(({ className, inset, children, variant = \"default\", ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      dropdownMenuItemVariants({ variant }),\n      \"data-[state=open]:bg-accent data-[state=open]:opacity-65\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      onCloseAutoFocus={(e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      }}\n      className={cn(\n        \"z-50 min-w-32 overflow-hidden rounded-md border p-1 bg-popover text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n    variant?: VariantProps<typeof dropdownMenuItemVariants>[\"variant\"];\n  }\n>(({ className, inset, variant = \"default\", ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      dropdownMenuItemVariants({ variant }),\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem> & {\n    variant?: VariantProps<typeof dropdownMenuItemVariants>[\"variant\"];\n  }\n>(({ className, children, checked, variant = \"default\", ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      dropdownMenuItemVariants({ variant }),\n      \"pl-2 pr-8\",\n      className\n    )}\n    checked={checked}\n    onSelect={(e) => {\n      e.preventDefault();\n    }}\n    {...props}\n  >\n    {children}\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n  </DropdownMenuPrimitive.CheckboxItem>\n));\n\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem> & {\n    variant?: VariantProps<typeof dropdownMenuItemVariants>[\"variant\"];\n  }\n>(({ className, children, variant = \"default\", ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      dropdownMenuItemVariants({ variant }),\n      \"pl-8 pr-2\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-foreground/10\", className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3482, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/tooltip.tsx"],"sourcesContent":["import { cva, type VariantProps } from 'class-variance-authority';\nimport { Tooltip as TooltipPrimitive } from 'radix-ui';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst TooltipProvider = TooltipPrimitive.Provider;\n\nconst Tooltip = TooltipPrimitive.Root;\n\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\nconst tooltipVariants = cva(\n  'z-50 overflow-visible rounded-sm text-sm shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n  {\n    variants: {\n      variant: {\n        default: 'bg-popover text-popover-foreground border px-3 py-1.5',\n        destructive:\n          'bg-destructive/10 text-destructive dark:bg-destructive/20 border-destructive [border-width:0.5px]',\n        outline: 'border-border',\n        important:\n          'bg-amber-100/90 text-amber-900 dark:bg-amber-900/20 dark:text-amber-300 border-amber-900 [border-width:0.5px]',\n        promotions:\n          'bg-red-100/90 text-red-900 dark:bg-red-900/20 dark:text-red-300 border-red-900 [border-width:0.5px]',\n        personal:\n          'bg-green-100/90 text-green-900 dark:bg-green-900/20 dark:text-green-300 border-green-900 [border-width:0.5px]',\n        updates:\n          'bg-purple-100/90 text-purple-900 dark:bg-purple-900/20 dark:text-purple-300 border-purple-900 [border-width:0.5px]',\n        forums:\n          'bg-blue-100/90 text-blue-900 dark:bg-blue-900/20 dark:text-blue-300 border-blue-900 [border-width:0.5px]',\n        sidebar: 'bg-white dark:bg-[#413F3E] p-2.5 flex flex-col gap-2',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\ninterface TooltipContentProps\n  extends React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>,\n    VariantProps<typeof tooltipVariants> {}\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  TooltipContentProps\n>(({ className, sideOffset = 4, variant, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(tooltipVariants({ variant }), className)}\n    {...props}\n  >\n    {variant === 'sidebar' && (\n      <svg\n        width=\"6\"\n        height=\"10\"\n        viewBox=\"0 0 6 10\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"absolute left-[-6px] top-1/2 -translate-y-1/2\"\n      >\n        <path d=\"M6 0L0 5L6 10V0Z\" className=\"fill-white/80 dark:fill-[#413F3E]\" />\n      </svg>\n    )}\n    {props.children}\n  </TooltipPrimitive.Content>\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,kBAAkB,0SAAA,CAAA,UAAgB,CAAC,QAAQ;AAEjD,MAAM,UAAU,0SAAA,CAAA,UAAgB,CAAC,IAAI;AAErC,MAAM,iBAAiB,0SAAA,CAAA,UAAgB,CAAC,OAAO;AAE/C,MAAM,kBAAkB,CAAA,GAAA,6OAAA,CAAA,MAAG,AAAD,EACxB,iVACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SAAS;YACT,WACE;YACF,YACE;YACF,UACE;YACF,SACE;YACF,QACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,MAAM,+BAAiB,kOAAA,CAAA,aAAgB,MAGrC,QAAmD;QAAlD,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,OAAO,EAAE,GAAG,OAAO;yBACjD,kQAAC,0SAAA,CAAA,UAAgB,CAAC,OAAO;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,gBAAgB;YAAE;QAAQ,IAAI;QAC3C,GAAG,KAAK;;YAER,YAAY,2BACX,kQAAC;gBACC,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,MAAK;gBACL,OAAM;gBACN,WAAU;0BAEV,cAAA,kQAAC;oBAAK,GAAE;oBAAmB,WAAU;;;;;;;;;;;YAGxC,MAAM,QAAQ;;;;;;;;;AAGnB,eAAe,WAAW,GAAG,0SAAA,CAAA,UAAgB,CAAC,OAAO,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3572, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"../../lib/utils\";\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,KAGqB;QAHrB,EAChB,SAAS,EACT,GAAG,OACkC,GAHrB;IAIhB,qBACE,kQAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EAAE,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGf;KAVS","debugId":null}},
    {"offset": {"line": 3603, "column": 0}, "map": {"version":3,"sources":["file:///C:/shawn/1code/1project-cur/video-remake/clip/OpenCut-main/apps/web/src/app/projects/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Calendar,\n  ChevronLeft,\n  Loader2,\n  MoreHorizontal,\n  ArrowDown01,\n  Plus,\n  Search,\n  Trash2,\n  Video,\n  X,\n  Download,\n} from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { DeleteProjectDialog } from \"@/components/delete-project-dialog\";\nimport { RenameProjectDialog } from \"@/components/rename-project-dialog\";\nimport { ProjectActions } from \"@/components/project-import-export/project-actions\";\nimport { BulkImportExport } from \"@/components/project-import-export/bulk-import-export\";\nimport { ImportExportDialog } from \"@/components/project-import-export/import-export-dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { useProjectStore } from \"@/stores/project-store\";\nimport { useTimelineStore } from \"@/stores/timeline-store\";\nimport type { TProject } from \"@/types/project\";\n\nexport default function ProjectsPage() {\n  const {\n    savedProjects,\n    isLoading,\n    isInitialized,\n    deleteProject,\n    createNewProject,\n    getFilteredAndSortedProjects,\n  } = useProjectStore();\n  const [thumbnailCache, setThumbnailCache] = useState<\n    Record<string, string | null>\n  >({});\n  const [_loadingThumbnails, setLoadingThumbnails] = useState<Set<string>>(\n    new Set()\n  );\n  const [isSelectionMode, setIsSelectionMode] = useState(false);\n  const [selectedProjects, setSelectedProjects] = useState<Set<string>>(\n    new Set()\n  );\n  const [isBulkDeleteDialogOpen, setIsBulkDeleteDialogOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [sortOption, setSortOption] = useState(\"createdAt-desc\");\n  const router = useRouter();\n\n  const getProjectThumbnail = useCallback(\n    async (projectId: string): Promise<string | null> => {\n      if (thumbnailCache[projectId] !== undefined) {\n        return thumbnailCache[projectId];\n      }\n\n      setLoadingThumbnails((prev) => new Set(prev).add(projectId));\n\n      try {\n        const thumbnail = await useTimelineStore\n          .getState()\n          .getProjectThumbnail(projectId);\n        setThumbnailCache((prev) => ({ ...prev, [projectId]: thumbnail }));\n        return thumbnail;\n      } finally {\n        setLoadingThumbnails((prev) => {\n          const newSet = new Set(prev);\n          newSet.delete(projectId);\n          return newSet;\n        });\n      }\n    },\n    []\n  );\n\n  const handleCreateProject = async () => {\n    const projectId = await createNewProject(\"New Project\");\n    console.log(\"projectId\", projectId);\n    router.push(`/editor/${projectId}`);\n  };\n\n  const handleSelectProject = (projectId: string, checked: boolean) => {\n    const newSelected = new Set(selectedProjects);\n    if (checked) {\n      newSelected.add(projectId);\n    } else {\n      newSelected.delete(projectId);\n    }\n    setSelectedProjects(newSelected);\n  };\n\n  const handleSelectAll = (checked: boolean) => {\n    if (checked) {\n      setSelectedProjects(new Set(sortedProjects.map((p) => p.id)));\n    } else {\n      setSelectedProjects(new Set());\n    }\n  };\n\n  const handleCancelSelection = () => {\n    setIsSelectionMode(false);\n    setSelectedProjects(new Set());\n  };\n\n  const handleBulkDelete = async () => {\n    await Promise.all(\n      Array.from(selectedProjects).map((projectId) => deleteProject(projectId))\n    );\n    setSelectedProjects(new Set());\n    setIsSelectionMode(false);\n    setIsBulkDeleteDialogOpen(false);\n  };\n\n  const sortedProjects = getFilteredAndSortedProjects(searchQuery, sortOption);\n\n  const allSelected =\n    sortedProjects.length > 0 &&\n    selectedProjects.size === sortedProjects.length;\n  const someSelected =\n    selectedProjects.size > 0 && selectedProjects.size < sortedProjects.length;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"pt-6 px-6 flex items-center justify-between w-full h-16\">\n        <Link\n          href=\"/\"\n          className=\"flex items-center gap-1 hover:text-muted-foreground transition-colors\"\n        >\n          <ChevronLeft className=\"size-5! shrink-0\" />\n          <span className=\"text-sm font-medium\">Back</span>\n        </Link>\n        <div className=\"block md:hidden\">\n          {isSelectionMode ? (\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleCancelSelection}\n              >\n                <X className=\"size-4!\" />\n                Cancel\n              </Button>\n              {selectedProjects.size > 0 && (\n                <>\n                  <BulkImportExport \n                    selectedProjects={Array.from(selectedProjects)}\n                    onComplete={() => window.location.reload()}\n                  >\n                    <Button variant=\"outline\" size=\"sm\">\n                        <Download className=\"size-4!\" />\n                        Export Projects ({selectedProjects.size})\n                    </Button>\n                  </BulkImportExport>\n                  <Button\n                    variant=\"destructive\"\n                    size=\"sm\"\n                    onClick={() => setIsBulkDeleteDialogOpen(true)}\n                  >\n                    <Trash2 className=\"size-4!\" />\n                    Delete ({selectedProjects.size})\n                  </Button>\n                </>\n              )}\n            </div>\n          ) : (\n            <CreateButton onClick={handleCreateProject} />\n          )}\n        </div>\n      </div>\n      <main className=\"max-w-6xl mx-auto px-6 pt-6 pb-6\">\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div className=\"flex flex-col gap-3\">\n            <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight\">\n              Your Projects\n            </h1>\n            <p className=\"text-muted-foreground\">\n              {savedProjects.length}{\" \"}\n              {savedProjects.length === 1 ? \"project\" : \"projects\"}\n              {isSelectionMode && selectedProjects.size > 0 && (\n                <span className=\"ml-2 text-primary\">\n                  • {selectedProjects.size} selected\n                </span>\n              )}\n            </p>\n          </div>\n          <div className=\"hidden md:block\">\n            {isSelectionMode ? (\n              <div className=\"flex items-center gap-2\">\n                <Button variant=\"outline\" onClick={handleCancelSelection}>\n                  <X className=\"size-4!\" />\n                  Cancel\n                </Button>\n                {selectedProjects.size > 0 && (\n                  <>\n                    <BulkImportExport \n                      selectedProjects={Array.from(selectedProjects)}\n                      onComplete={() => window.location.reload()}\n                    >\n                      <Button variant=\"outline\">\n                        <Download className=\"size-4!\" />\n                        Export Projects ({selectedProjects.size})\n                      </Button>\n                    </BulkImportExport>\n                    <Button\n                      variant=\"destructive\"\n                      onClick={() => setIsBulkDeleteDialogOpen(true)}\n                    >\n                      <Trash2 className=\"size-4!\" />\n                      Delete Selected ({selectedProjects.size})\n                    </Button>\n                  </>\n                )}\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                <ProjectActions onImportComplete={() => window.location.reload()} />\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setIsSelectionMode(true)}\n                  disabled={savedProjects.length === 0}\n                >\n                  Select Projects\n                </Button>\n                <CreateButton onClick={handleCreateProject} />\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mb-4 flex items-center justify-between gap-4\">\n          <div className=\"flex-1 max-w-72\">\n            <Input\n              placeholder=\"Search projects...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n            />\n          </div>\n          <div className=\"flex items-center gap-0\">\n            <TooltipProvider>\n              <Tooltip>\n                <DropdownMenu>\n                  <TooltipTrigger asChild>\n                    <DropdownMenuTrigger asChild>\n                      <Button\n                        size=\"icon\"\n                        variant=\"secondary\"\n                        className=\"justify-center items-center w-9 h-9\"\n                      >\n                        <ArrowDown01\n                          strokeWidth={1.5}\n                          className=\"!size-[1.05rem]\"\n                        />\n                      </Button>\n                    </DropdownMenuTrigger>\n                  </TooltipTrigger>\n                  <DropdownMenuContent align=\"end\">\n                    <DropdownMenuItem\n                      onClick={() => {\n                        if (sortOption.startsWith(\"createdAt\")) {\n                          setSortOption(\n                            sortOption.endsWith(\"asc\")\n                              ? \"createdAt-desc\"\n                              : \"createdAt-asc\"\n                          );\n                        } else {\n                          setSortOption(\"createdAt-asc\");\n                        }\n                      }}\n                    >\n                      Created{\" \"}\n                      {sortOption.startsWith(\"createdAt\") &&\n                        (sortOption.endsWith(\"asc\") ? \"↑\" : \"↓\")}\n                    </DropdownMenuItem>\n                    <DropdownMenuItem\n                      onClick={() => {\n                        if (sortOption.startsWith(\"name\")) {\n                          setSortOption(\n                            sortOption.endsWith(\"asc\")\n                              ? \"name-desc\"\n                              : \"name-asc\"\n                          );\n                        } else {\n                          setSortOption(\"name-asc\");\n                        }\n                      }}\n                    >\n                      Name{\" \"}\n                      {sortOption.startsWith(\"name\") &&\n                        (sortOption.endsWith(\"asc\") ? \"↑\" : \"↓\")}\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n                <TooltipContent>\n                  <p>\n                    Sort by{\" \"}\n                    {sortOption.startsWith(\"createdAt\") ? \"date\" : \"name\"} (\n                    {sortOption.endsWith(\"asc\") ? \"ascending\" : \"descending\"})\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          </div>\n        </div>\n\n        {isSelectionMode && sortedProjects.length > 0 && (\n          <button\n            type=\"button\"\n            onClick={() => handleSelectAll(!allSelected)}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\" || e.key === \" \") {\n                e.preventDefault();\n                handleSelectAll(!allSelected);\n              }\n            }}\n            className=\"w-full hover:cursor-pointer gap-2 mb-6 p-4 bg-muted/30 rounded-lg border items-center flex\"\n            tabIndex={0}\n          >\n            <Checkbox checked={someSelected ? \"indeterminate\" : allSelected} />\n            <span className=\"text-sm font-medium\">\n              {allSelected ? \"Deselect All\" : \"Select All\"}\n            </span>\n            <span className=\"text-sm text-muted-foreground\">\n              ({selectedProjects.size} of {sortedProjects.length} selected)\n            </span>\n          </button>\n        )}\n\n        {isLoading || !isInitialized ? (\n          <div className=\"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {Array.from({ length: 8 }, (_, index) => (\n              <div\n                key={`skeleton-${index}-${Date.now()}`}\n                className=\"overflow-hidden bg-background border-none p-0\"\n              >\n                <Skeleton className=\"aspect-square w-full bg-muted/50\" />\n                <div className=\"px-0 pt-5 flex flex-col gap-1\">\n                  <Skeleton className=\"h-4 w-3/4 bg-muted/50\" />\n                  <div className=\"flex items-center gap-1.5\">\n                    <Skeleton className=\"h-4 w-4 bg-muted/50\" />\n                    <Skeleton className=\"h-4 w-24 bg-muted/50\" />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : savedProjects.length === 0 ? (\n          <NoProjects onCreateProject={handleCreateProject} />\n        ) : sortedProjects.length === 0 ? (\n          <NoResults\n            searchQuery={searchQuery}\n            onClearSearch={() => setSearchQuery(\"\")}\n          />\n        ) : (\n          <div className=\"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {sortedProjects.map((project) => (\n              <ProjectCard\n                key={project.id}\n                project={project}\n                isSelectionMode={isSelectionMode}\n                isSelected={selectedProjects.has(project.id)}\n                onSelect={handleSelectProject}\n                getProjectThumbnail={getProjectThumbnail}\n              />\n            ))}\n          </div>\n        )}\n      </main>\n\n      <DeleteProjectDialog\n        isOpen={isBulkDeleteDialogOpen}\n        onOpenChange={setIsBulkDeleteDialogOpen}\n        onConfirm={handleBulkDelete}\n      />\n    </div>\n  );\n}\n\ninterface ProjectCardProps {\n  project: TProject;\n  isSelectionMode?: boolean;\n  isSelected?: boolean;\n  onSelect?: (projectId: string, checked: boolean) => void;\n  getProjectThumbnail: (projectId: string) => Promise<string | null>;\n}\n\nfunction ProjectCard({\n  project,\n  isSelectionMode = false,\n  isSelected = false,\n  onSelect,\n  getProjectThumbnail,\n}: ProjectCardProps) {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [isRenameDialogOpen, setIsRenameDialogOpen] = useState(false);\n  const [dynamicThumbnail, setDynamicThumbnail] = useState<string | null>(null);\n  const [isLoadingThumbnail, setIsLoadingThumbnail] = useState(true);\n  const { deleteProject, renameProject, duplicateProject } = useProjectStore();\n\n  useEffect(() => {\n    const loadThumbnail = async () => {\n      setIsLoadingThumbnail(true);\n      try {\n        const thumbnail = await getProjectThumbnail(project.id);\n        setDynamicThumbnail(thumbnail);\n      } finally {\n        setIsLoadingThumbnail(false);\n      }\n    };\n    loadThumbnail();\n  }, [project.id, getProjectThumbnail]);\n\n  const formatDate = (date: Date): string => {\n    return date.toLocaleDateString(\"en-US\", {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n    });\n  };\n\n  const handleDeleteProject = async () => {\n    await deleteProject(project.id);\n    setIsDropdownOpen(false);\n  };\n\n  const handleRenameProject = async (newName: string) => {\n    await renameProject(project.id, newName);\n    setIsRenameDialogOpen(false);\n  };\n\n  const handleDuplicateProject = async () => {\n    setIsDropdownOpen(false);\n    await duplicateProject(project.id);\n  };\n\n  const handleCardClick = (e: React.MouseEvent) => {\n    if (isSelectionMode) {\n      e.preventDefault();\n      onSelect?.(project.id, !isSelected);\n    }\n  };\n\n  const handleCardKeyDown = (e: React.KeyboardEvent) => {\n    if (isSelectionMode && (e.key === \"Enter\" || e.key === \" \")) {\n      e.preventDefault();\n      onSelect?.(project.id, !isSelected);\n    }\n  };\n\n  const cardContent = (\n    <Card\n      className={`overflow-hidden bg-background border-none p-0 transition-all ${\n        isSelectionMode && isSelected ? \"ring-2 ring-primary\" : \"\"\n      }`}\n    >\n      <div\n        className={`relative aspect-square bg-muted transition-opacity ${\n          isDropdownOpen ? \"opacity-65\" : \"opacity-100 group-hover:opacity-65\"\n        }`}\n      >\n        {isSelectionMode && (\n          <div className=\"absolute top-3 left-3 z-10\">\n            <div className=\"w-5 h-5 rounded-full bg-background/80 backdrop-blur-xs border flex items-center justify-center\">\n              <Checkbox\n                checked={isSelected}\n                onCheckedChange={(checked) =>\n                  onSelect?.(project.id, checked as boolean)\n                }\n                onClick={(e) => e.stopPropagation()}\n                className=\"w-4 h-4\"\n              />\n            </div>\n          </div>\n        )}\n\n        <div className=\"absolute inset-0\">\n          {isLoadingThumbnail ? (\n            <div className=\"w-full h-full bg-muted/50 flex items-center justify-center\">\n              <Loader2 className=\"h-12 w-12 text-muted-foreground animate-spin\" />\n            </div>\n          ) : dynamicThumbnail ? (\n            <Image\n              src={dynamicThumbnail}\n              alt=\"Project thumbnail\"\n              fill\n              className=\"object-cover\"\n            />\n          ) : (\n            <div className=\"w-full h-full bg-muted/50 flex items-center justify-center\">\n              <Video className=\"h-12 w-12 shrink-0 text-muted-foreground\" />\n            </div>\n          )}\n        </div>\n      </div>\n\n      <CardContent className=\"px-0 pt-5 flex flex-col gap-1\">\n        <div className=\"flex items-start justify-between\">\n          <h3 className=\"font-medium text-sm leading-snug group-hover:text-foreground/90 transition-colors line-clamp-2\">\n            {project.name}\n          </h3>\n          {!isSelectionMode && (\n            <DropdownMenu\n              open={isDropdownOpen}\n              onOpenChange={setIsDropdownOpen}\n            >\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"text\"\n                  size=\"sm\"\n                  className={`size-6 p-0 transition-all shrink-0 ml-2 ${\n                    isDropdownOpen\n                      ? \"opacity-100\"\n                      : \"opacity-0 group-hover:opacity-100\"\n                  }`}\n                  onClick={(e) => e.preventDefault()}\n                >\n                  <MoreHorizontal />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent\n                align=\"end\"\n                onCloseAutoFocus={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }}\n              >\n                <DropdownMenuItem\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setIsDropdownOpen(false);\n                    setIsRenameDialogOpen(true);\n                  }}\n                >\n                  Rename\n                </DropdownMenuItem>\n                <DropdownMenuItem\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    handleDuplicateProject();\n                  }}\n                >\n                  Duplicate\n                </DropdownMenuItem>\n                \n                <DropdownMenuSeparator />\n                <ImportExportDialog mode=\"export\" projectId={project.id}>\n                  <DropdownMenuItem \n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                    }}\n                  >\n                    <Download className=\"h-4 w-4 mr-2\" />\n                    Export\n                  </DropdownMenuItem>\n                </ImportExportDialog>\n                <DropdownMenuSeparator />\n                \n                <DropdownMenuItem\n                  variant=\"destructive\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    setIsDropdownOpen(false);\n                    setIsDeleteDialogOpen(true);\n                  }}\n                >\n                  Delete\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          )}\n        </div>\n\n        <div className=\"space-y-1\">\n          <div className=\"flex items-center gap-1.5 text-sm text-muted-foreground\">\n            <Calendar className=\"size-4!\" />\n            <span>Created {formatDate(project.createdAt)}</span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n\n  return (\n    <>\n      {isSelectionMode ? (\n        <button\n          type=\"button\"\n          onClick={handleCardClick}\n          onKeyDown={handleCardKeyDown}\n          className=\"block group cursor-pointer w-full text-left\"\n        >\n          {cardContent}\n        </button>\n      ) : (\n        <Link href={`/editor/${project.id}`} className=\"block group\">\n          {cardContent}\n        </Link>\n      )}\n      <DeleteProjectDialog\n        isOpen={isDeleteDialogOpen}\n        onOpenChange={setIsDeleteDialogOpen}\n        onConfirm={handleDeleteProject}\n      />\n      <RenameProjectDialog\n        isOpen={isRenameDialogOpen}\n        onOpenChange={setIsRenameDialogOpen}\n        onConfirm={handleRenameProject}\n        projectName={project.name}\n      />\n    </>\n  );\n}\n\nfunction CreateButton({ onClick }: { onClick?: () => void }) {\n  return (\n    <Button className=\"flex\" onClick={onClick}>\n      <Plus className=\"size-4!\" />\n      <span className=\"text-sm font-medium\">New project</span>\n    </Button>\n  );\n}\n\nfunction NoProjects({ onCreateProject }: { onCreateProject: () => void }) {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n      <div className=\"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4\">\n        <Video className=\"h-8 w-8 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-medium mb-2\">No projects yet</h3>\n      <p className=\"text-muted-foreground mb-6 max-w-md\">\n        Start creating your first video project. Import media, edit, and export\n        professional videos.\n      </p>\n      <Button size=\"lg\" className=\"gap-2\" onClick={onCreateProject}>\n        <Plus className=\"h-4 w-4\" />\n        Create Your First Project\n      </Button>\n    </div>\n  );\n}\n\nfunction NoResults({\n  searchQuery,\n  onClearSearch,\n}: {\n  searchQuery: string;\n  onClearSearch: () => void;\n}) {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n      <div className=\"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4\">\n        <Search className=\"h-8 w-8 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-medium mb-2\">No results found</h3>\n      <p className=\"text-muted-foreground mb-6 max-w-md\">\n        Your search for \"{searchQuery}\" did not return any results.\n      </p>\n      <Button onClick={onClearSearch} variant=\"outline\">\n        Clear Search\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AAMA;AACA;AACA;;;AA3CA;;;;;;;;;;;;;;;;;;;;AA8Ce,SAAS;;IACtB,MAAM,EACJ,aAAa,EACb,SAAS,EACT,aAAa,EACb,aAAa,EACb,gBAAgB,EAChB,4BAA4B,EAC7B,GAAG,CAAA,GAAA,mJAAA,CAAA,kBAAe,AAAD;IAClB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAEjD,CAAC;IACH,MAAM,CAAC,oBAAoB,qBAAqB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EACxD,IAAI;IAEN,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EACrD,IAAI;IAEN,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IACrE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,SAAS,CAAA,GAAA,0MAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,sBAAsB,CAAA,GAAA,kOAAA,CAAA,cAAW,AAAD;yDACpC,OAAO;YACL,IAAI,cAAc,CAAC,UAAU,KAAK,WAAW;gBAC3C,OAAO,cAAc,CAAC,UAAU;YAClC;YAEA;iEAAqB,CAAC,OAAS,IAAI,IAAI,MAAM,GAAG,CAAC;;YAEjD,IAAI;gBACF,MAAM,YAAY,MAAM,oJAAA,CAAA,mBAAgB,CACrC,QAAQ,GACR,mBAAmB,CAAC;gBACvB;qEAAkB,CAAC,OAAS,CAAC;4BAAE,GAAG,IAAI;4BAAE,CAAC,UAAU,EAAE;wBAAU,CAAC;;gBAChE,OAAO;YACT,SAAU;gBACR;qEAAqB,CAAC;wBACpB,MAAM,SAAS,IAAI,IAAI;wBACvB,OAAO,MAAM,CAAC;wBACd,OAAO;oBACT;;YACF;QACF;wDACA,EAAE;IAGJ,MAAM,sBAAsB;QAC1B,MAAM,YAAY,MAAM,iBAAiB;QACzC,QAAQ,GAAG,CAAC,aAAa;QACzB,OAAO,IAAI,CAAC,AAAC,WAAoB,OAAV;IACzB;IAEA,MAAM,sBAAsB,CAAC,WAAmB;QAC9C,MAAM,cAAc,IAAI,IAAI;QAC5B,IAAI,SAAS;YACX,YAAY,GAAG,CAAC;QAClB,OAAO;YACL,YAAY,MAAM,CAAC;QACrB;QACA,oBAAoB;IACtB;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,SAAS;YACX,oBAAoB,IAAI,IAAI,eAAe,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;QAC5D,OAAO;YACL,oBAAoB,IAAI;QAC1B;IACF;IAEA,MAAM,wBAAwB;QAC5B,mBAAmB;QACnB,oBAAoB,IAAI;IAC1B;IAEA,MAAM,mBAAmB;QACvB,MAAM,QAAQ,GAAG,CACf,MAAM,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,YAAc,cAAc;QAEhE,oBAAoB,IAAI;QACxB,mBAAmB;QACnB,0BAA0B;IAC5B;IAEA,MAAM,iBAAiB,6BAA6B,aAAa;IAEjE,MAAM,cACJ,eAAe,MAAM,GAAG,KACxB,iBAAiB,IAAI,KAAK,eAAe,MAAM;IACjD,MAAM,eACJ,iBAAiB,IAAI,GAAG,KAAK,iBAAiB,IAAI,GAAG,eAAe,MAAM;IAE5E,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;gBAAI,WAAU;;kCACb,kQAAC,oOAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,kQAAC,wSAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;0CACvB,kQAAC;gCAAK,WAAU;0CAAsB;;;;;;;;;;;;kCAExC,kQAAC;wBAAI,WAAU;kCACZ,gCACC,kQAAC;4BAAI,WAAU;;8CACb,kQAAC,oJAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS;;sDAET,kQAAC,gRAAA,CAAA,IAAC;4CAAC,WAAU;;;;;;wCAAY;;;;;;;gCAG1B,iBAAiB,IAAI,GAAG,mBACvB;;sDACE,kQAAC,+LAAA,CAAA,mBAAgB;4CACf,kBAAkB,MAAM,IAAI,CAAC;4CAC7B,YAAY,IAAM,OAAO,QAAQ,CAAC,MAAM;sDAExC,cAAA,kQAAC,oJAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAU,MAAK;;kEAC3B,kQAAC,8RAAA,CAAA,WAAQ;wDAAC,WAAU;;;;;;oDAAY;oDACd,iBAAiB,IAAI;oDAAC;;;;;;;;;;;;sDAG9C,kQAAC,oJAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,0BAA0B;;8DAEzC,kQAAC,8RAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;gDAAY;gDACrB,iBAAiB,IAAI;gDAAC;;;;;;;;;;;;;;iDAMvC,kQAAC;4BAAa,SAAS;;;;;;;;;;;;;;;;;0BAI7B,kQAAC;gBAAK,WAAU;;kCACd,kQAAC;wBAAI,WAAU;;0CACb,kQAAC;gCAAI,WAAU;;kDACb,kQAAC;wCAAG,WAAU;kDAAgD;;;;;;kDAG9D,kQAAC;wCAAE,WAAU;;4CACV,cAAc,MAAM;4CAAE;4CACtB,cAAc,MAAM,KAAK,IAAI,YAAY;4CACzC,mBAAmB,iBAAiB,IAAI,GAAG,mBAC1C,kQAAC;gDAAK,WAAU;;oDAAoB;oDAC/B,iBAAiB,IAAI;oDAAC;;;;;;;;;;;;;;;;;;;0CAKjC,kQAAC;gCAAI,WAAU;0CACZ,gCACC,kQAAC;oCAAI,WAAU;;sDACb,kQAAC,oJAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAU,SAAS;;8DACjC,kQAAC,gRAAA,CAAA,IAAC;oDAAC,WAAU;;;;;;gDAAY;;;;;;;wCAG1B,iBAAiB,IAAI,GAAG,mBACvB;;8DACE,kQAAC,+LAAA,CAAA,mBAAgB;oDACf,kBAAkB,MAAM,IAAI,CAAC;oDAC7B,YAAY,IAAM,OAAO,QAAQ,CAAC,MAAM;8DAExC,cAAA,kQAAC,oJAAA,CAAA,SAAM;wDAAC,SAAQ;;0EACd,kQAAC,8RAAA,CAAA,WAAQ;gEAAC,WAAU;;;;;;4DAAY;4DACd,iBAAiB,IAAI;4DAAC;;;;;;;;;;;;8DAG5C,kQAAC,oJAAA,CAAA,SAAM;oDACL,SAAQ;oDACR,SAAS,IAAM,0BAA0B;;sEAEzC,kQAAC,8RAAA,CAAA,SAAM;4DAAC,WAAU;;;;;;wDAAY;wDACZ,iBAAiB,IAAI;wDAAC;;;;;;;;;;;;;;yDAMhD,kQAAC;oCAAI,WAAU;;sDACb,kQAAC,yLAAA,CAAA,iBAAc;4CAAC,kBAAkB,IAAM,OAAO,QAAQ,CAAC,MAAM;;;;;;sDAC9D,kQAAC,oJAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,SAAS,IAAM,mBAAmB;4CAClC,UAAU,cAAc,MAAM,KAAK;sDACpC;;;;;;sDAGD,kQAAC;4CAAa,SAAS;;;;;;;;;;;;;;;;;;;;;;;kCAM/B,kQAAC;wBAAI,WAAU;;0CACb,kQAAC;gCAAI,WAAU;0CACb,cAAA,kQAAC,mJAAA,CAAA,QAAK;oCACJ,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;0CAGlD,kQAAC;gCAAI,WAAU;0CACb,cAAA,kQAAC,qJAAA,CAAA,kBAAe;8CACd,cAAA,kQAAC,qJAAA,CAAA,UAAO;;0DACN,kQAAC,8JAAA,CAAA,eAAY;;kEACX,kQAAC,qJAAA,CAAA,iBAAc;wDAAC,OAAO;kEACrB,cAAA,kQAAC,8JAAA,CAAA,sBAAmB;4DAAC,OAAO;sEAC1B,cAAA,kQAAC,oJAAA,CAAA,SAAM;gEACL,MAAK;gEACL,SAAQ;gEACR,WAAU;0EAEV,cAAA,kQAAC,gTAAA,CAAA,cAAW;oEACV,aAAa;oEACb,WAAU;;;;;;;;;;;;;;;;;;;;;kEAKlB,kQAAC,8JAAA,CAAA,sBAAmB;wDAAC,OAAM;;0EACzB,kQAAC,8JAAA,CAAA,mBAAgB;gEACf,SAAS;oEACP,IAAI,WAAW,UAAU,CAAC,cAAc;wEACtC,cACE,WAAW,QAAQ,CAAC,SAChB,mBACA;oEAER,OAAO;wEACL,cAAc;oEAChB;gEACF;;oEACD;oEACS;oEACP,WAAW,UAAU,CAAC,gBACrB,CAAC,WAAW,QAAQ,CAAC,SAAS,MAAM,GAAG;;;;;;;0EAE3C,kQAAC,8JAAA,CAAA,mBAAgB;gEACf,SAAS;oEACP,IAAI,WAAW,UAAU,CAAC,SAAS;wEACjC,cACE,WAAW,QAAQ,CAAC,SAChB,cACA;oEAER,OAAO;wEACL,cAAc;oEAChB;gEACF;;oEACD;oEACM;oEACJ,WAAW,UAAU,CAAC,WACrB,CAAC,WAAW,QAAQ,CAAC,SAAS,MAAM,GAAG;;;;;;;;;;;;;;;;;;;0DAI/C,kQAAC,qJAAA,CAAA,iBAAc;0DACb,cAAA,kQAAC;;wDAAE;wDACO;wDACP,WAAW,UAAU,CAAC,eAAe,SAAS;wDAAO;wDACrD,WAAW,QAAQ,CAAC,SAAS,cAAc;wDAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAQpE,mBAAmB,eAAe,MAAM,GAAG,mBAC1C,kQAAC;wBACC,MAAK;wBACL,SAAS,IAAM,gBAAgB,CAAC;wBAChC,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;gCACtC,EAAE,cAAc;gCAChB,gBAAgB,CAAC;4BACnB;wBACF;wBACA,WAAU;wBACV,UAAU;;0CAEV,kQAAC,sJAAA,CAAA,WAAQ;gCAAC,SAAS,eAAe,kBAAkB;;;;;;0CACpD,kQAAC;gCAAK,WAAU;0CACb,cAAc,iBAAiB;;;;;;0CAElC,kQAAC;gCAAK,WAAU;;oCAAgC;oCAC5C,iBAAiB,IAAI;oCAAC;oCAAK,eAAe,MAAM;oCAAC;;;;;;;;;;;;;oBAKxD,aAAa,CAAC,8BACb,kQAAC;wBAAI,WAAU;kCACZ,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAE,GAAG,CAAC,GAAG,sBAC7B,kQAAC;gCAEC,WAAU;;kDAEV,kQAAC,sJAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,kQAAC;wCAAI,WAAU;;0DACb,kQAAC,sJAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;0DACpB,kQAAC;gDAAI,WAAU;;kEACb,kQAAC,sJAAA,CAAA,WAAQ;wDAAC,WAAU;;;;;;kEACpB,kQAAC,sJAAA,CAAA,WAAQ;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;+BARnB,AAAC,YAAoB,OAAT,OAAM,KAAc,OAAX,KAAK,GAAG;;;;;;;;;+BActC,cAAc,MAAM,KAAK,kBAC3B,kQAAC;wBAAW,iBAAiB;;;;;+BAC3B,eAAe,MAAM,KAAK,kBAC5B,kQAAC;wBACC,aAAa;wBACb,eAAe,IAAM,eAAe;;;;;6CAGtC,kQAAC;wBAAI,WAAU;kCACZ,eAAe,GAAG,CAAC,CAAC,wBACnB,kQAAC;gCAEC,SAAS;gCACT,iBAAiB;gCACjB,YAAY,iBAAiB,GAAG,CAAC,QAAQ,EAAE;gCAC3C,UAAU;gCACV,qBAAqB;+BALhB,QAAQ,EAAE;;;;;;;;;;;;;;;;0BAYzB,kQAAC,mKAAA,CAAA,sBAAmB;gBAClB,QAAQ;gBACR,cAAc;gBACd,WAAW;;;;;;;;;;;;AAInB;GA7VwB;;QAQlB,mJAAA,CAAA,kBAAe;QAcJ,0MAAA,CAAA,YAAS;;;KAtBF;AAuWxB,SAAS,YAAY,KAMF;QANE,EACnB,OAAO,EACP,kBAAkB,KAAK,EACvB,aAAa,KAAK,EAClB,QAAQ,EACR,mBAAmB,EACF,GANE;;IAOnB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAiB;IACxE,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,kOAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,gBAAgB,EAAE,GAAG,CAAA,GAAA,mJAAA,CAAA,kBAAe,AAAD;IAEzE,CAAA,GAAA,kOAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;uDAAgB;oBACpB,sBAAsB;oBACtB,IAAI;wBACF,MAAM,YAAY,MAAM,oBAAoB,QAAQ,EAAE;wBACtD,oBAAoB;oBACtB,SAAU;wBACR,sBAAsB;oBACxB;gBACF;;YACA;QACF;gCAAG;QAAC,QAAQ,EAAE;QAAE;KAAoB;IAEpC,MAAM,aAAa,CAAC;QAClB,OAAO,KAAK,kBAAkB,CAAC,SAAS;YACtC,OAAO;YACP,KAAK;YACL,MAAM;QACR;IACF;IAEA,MAAM,sBAAsB;QAC1B,MAAM,cAAc,QAAQ,EAAE;QAC9B,kBAAkB;IACpB;IAEA,MAAM,sBAAsB,OAAO;QACjC,MAAM,cAAc,QAAQ,EAAE,EAAE;QAChC,sBAAsB;IACxB;IAEA,MAAM,yBAAyB;QAC7B,kBAAkB;QAClB,MAAM,iBAAiB,QAAQ,EAAE;IACnC;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,iBAAiB;YACnB,EAAE,cAAc;YAChB,qBAAA,+BAAA,SAAW,QAAQ,EAAE,EAAE,CAAC;QAC1B;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,mBAAmB,CAAC,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,GAAG,GAAG;YAC3D,EAAE,cAAc;YAChB,qBAAA,+BAAA,SAAW,QAAQ,EAAE,EAAE,CAAC;QAC1B;IACF;IAEA,MAAM,4BACJ,kQAAC,kJAAA,CAAA,OAAI;QACH,WAAW,AAAC,gEAEX,OADC,mBAAmB,aAAa,wBAAwB;;0BAG1D,kQAAC;gBACC,WAAW,AAAC,sDAEX,OADC,iBAAiB,eAAe;;oBAGjC,iCACC,kQAAC;wBAAI,WAAU;kCACb,cAAA,kQAAC;4BAAI,WAAU;sCACb,cAAA,kQAAC,sJAAA,CAAA,WAAQ;gCACP,SAAS;gCACT,iBAAiB,CAAC,UAChB,qBAAA,+BAAA,SAAW,QAAQ,EAAE,EAAE;gCAEzB,SAAS,CAAC,IAAM,EAAE,eAAe;gCACjC,WAAU;;;;;;;;;;;;;;;;kCAMlB,kQAAC;wBAAI,WAAU;kCACZ,mCACC,kQAAC;4BAAI,WAAU;sCACb,cAAA,kQAAC,qSAAA,CAAA,UAAO;gCAAC,WAAU;;;;;;;;;;mCAEnB,iCACF,kQAAC,qMAAA,CAAA,UAAK;4BACJ,KAAK;4BACL,KAAI;4BACJ,IAAI;4BACJ,WAAU;;;;;iDAGZ,kQAAC;4BAAI,WAAU;sCACb,cAAA,kQAAC,wRAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAMzB,kQAAC,kJAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,kQAAC;wBAAI,WAAU;;0CACb,kQAAC;gCAAG,WAAU;0CACX,QAAQ,IAAI;;;;;;4BAEd,CAAC,iCACA,kQAAC,8JAAA,CAAA,eAAY;gCACX,MAAM;gCACN,cAAc;;kDAEd,kQAAC,8JAAA,CAAA,sBAAmB;wCAAC,OAAO;kDAC1B,cAAA,kQAAC,oJAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,WAAW,AAAC,2CAIX,OAHC,iBACI,gBACA;4CAEN,SAAS,CAAC,IAAM,EAAE,cAAc;sDAEhC,cAAA,kQAAC,oSAAA,CAAA,iBAAc;;;;;;;;;;;;;;;kDAGnB,kQAAC,8JAAA,CAAA,sBAAmB;wCAClB,OAAM;wCACN,kBAAkB,CAAC;4CACjB,EAAE,cAAc;4CAChB,EAAE,eAAe;wCACnB;;0DAEA,kQAAC,8JAAA,CAAA,mBAAgB;gDACf,SAAS,CAAC;oDACR,EAAE,cAAc;oDAChB,EAAE,eAAe;oDACjB,kBAAkB;oDAClB,sBAAsB;gDACxB;0DACD;;;;;;0DAGD,kQAAC,8JAAA,CAAA,mBAAgB;gDACf,SAAS,CAAC;oDACR,EAAE,cAAc;oDAChB,EAAE,eAAe;oDACjB;gDACF;0DACD;;;;;;0DAID,kQAAC,8JAAA,CAAA,wBAAqB;;;;;0DACtB,kQAAC,iMAAA,CAAA,qBAAkB;gDAAC,MAAK;gDAAS,WAAW,QAAQ,EAAE;0DACrD,cAAA,kQAAC,8JAAA,CAAA,mBAAgB;oDACf,SAAS,CAAC;wDACR,EAAE,cAAc;wDAChB,EAAE,eAAe;oDACnB;;sEAEA,kQAAC,8RAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;0DAIzC,kQAAC,8JAAA,CAAA,wBAAqB;;;;;0DAEtB,kQAAC,8JAAA,CAAA,mBAAgB;gDACf,SAAQ;gDACR,SAAS,CAAC;oDACR,EAAE,cAAc;oDAChB,EAAE,eAAe;oDACjB,kBAAkB;oDAClB,sBAAsB;gDACxB;0DACD;;;;;;;;;;;;;;;;;;;;;;;;kCAQT,kQAAC;wBAAI,WAAU;kCACb,cAAA,kQAAC;4BAAI,WAAU;;8CACb,kQAAC,8RAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;8CACpB,kQAAC;;wCAAK;wCAAS,WAAW,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOrD,qBACE;;YACG,gCACC,kQAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAW;gBACX,WAAU;0BAET;;;;;qCAGH,kQAAC,oOAAA,CAAA,UAAI;gBAAC,MAAM,AAAC,WAAqB,OAAX,QAAQ,EAAE;gBAAI,WAAU;0BAC5C;;;;;;0BAGL,kQAAC,mKAAA,CAAA,sBAAmB;gBAClB,QAAQ;gBACR,cAAc;gBACd,WAAW;;;;;;0BAEb,kQAAC,mKAAA,CAAA,sBAAmB;gBAClB,QAAQ;gBACR,cAAc;gBACd,WAAW;gBACX,aAAa,QAAQ,IAAI;;;;;;;;AAIjC;IAtOS;;QAYoD,mJAAA,CAAA,kBAAe;;;MAZnE;AAwOT,SAAS,aAAa,KAAqC;QAArC,EAAE,OAAO,EAA4B,GAArC;IACpB,qBACE,kQAAC,oJAAA,CAAA,SAAM;QAAC,WAAU;QAAO,SAAS;;0BAChC,kQAAC,sRAAA,CAAA,OAAI;gBAAC,WAAU;;;;;;0BAChB,kQAAC;gBAAK,WAAU;0BAAsB;;;;;;;;;;;;AAG5C;MAPS;AAST,SAAS,WAAW,KAAoD;QAApD,EAAE,eAAe,EAAmC,GAApD;IAClB,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;gBAAI,WAAU;0BACb,cAAA,kQAAC,wRAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;;;;;;0BAEnB,kQAAC;gBAAG,WAAU;0BAA2B;;;;;;0BACzC,kQAAC;gBAAE,WAAU;0BAAsC;;;;;;0BAInD,kQAAC,oJAAA,CAAA,SAAM;gBAAC,MAAK;gBAAK,WAAU;gBAAQ,SAAS;;kCAC3C,kQAAC,sRAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;AAKpC;MAjBS;AAmBT,SAAS,UAAU,KAMlB;QANkB,EACjB,WAAW,EACX,aAAa,EAId,GANkB;IAOjB,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;gBAAI,WAAU;0BACb,cAAA,kQAAC,0RAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;;;;;;0BAEpB,kQAAC;gBAAG,WAAU;0BAA2B;;;;;;0BACzC,kQAAC;gBAAE,WAAU;;oBAAsC;oBAC/B;oBAAY;;;;;;;0BAEhC,kQAAC,oJAAA,CAAA,SAAM;gBAAC,SAAS;gBAAe,SAAQ;0BAAU;;;;;;;;;;;;AAKxD;MArBS","debugId":null}}]
}